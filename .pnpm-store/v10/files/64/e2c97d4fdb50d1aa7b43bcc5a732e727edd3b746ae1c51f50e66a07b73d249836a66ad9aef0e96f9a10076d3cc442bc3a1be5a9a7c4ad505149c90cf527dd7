import type { MastraDBMessage, StorageThreadType } from '../../../memory/types.js';
import type { StorageMessageType, StorageResourceType, StorageListMessagesInput, StorageListMessagesOutput, StorageListThreadsByResourceIdInput, StorageListThreadsByResourceIdOutput } from '../../types.js';
import type { StoreOperations } from '../operations/index.js';
import { MemoryStorage } from './base.js';
export type InMemoryThreads = Map<string, StorageThreadType>;
export type InMemoryResources = Map<string, StorageResourceType>;
export type InMemoryMessages = Map<string, StorageMessageType>;
export declare class InMemoryMemory extends MemoryStorage {
    private collection;
    private operations;
    constructor({ collection, operations, }: {
        collection: {
            threads: InMemoryThreads;
            resources: InMemoryResources;
            messages: InMemoryMessages;
        };
        operations: StoreOperations;
    });
    getThreadById({ threadId }: {
        threadId: string;
    }): Promise<StorageThreadType | null>;
    saveThread({ thread }: {
        thread: StorageThreadType;
    }): Promise<StorageThreadType>;
    updateThread({ id, title, metadata, }: {
        id: string;
        title: string;
        metadata: Record<string, unknown>;
    }): Promise<StorageThreadType>;
    deleteThread({ threadId }: {
        threadId: string;
    }): Promise<void>;
    listMessages({ threadId, resourceId, include, filter, perPage: perPageInput, page, orderBy, }: StorageListMessagesInput): Promise<StorageListMessagesOutput>;
    protected parseStoredMessage(message: StorageMessageType): MastraDBMessage;
    listMessagesById({ messageIds }: {
        messageIds: string[];
    }): Promise<{
        messages: MastraDBMessage[];
    }>;
    saveMessages(args: {
        messages: MastraDBMessage[];
    }): Promise<{
        messages: MastraDBMessage[];
    }>;
    updateMessages(args: {
        messages: (Partial<MastraDBMessage> & {
            id: string;
        })[];
    }): Promise<MastraDBMessage[]>;
    deleteMessages(messageIds: string[]): Promise<void>;
    listThreadsByResourceId(args: StorageListThreadsByResourceIdInput): Promise<StorageListThreadsByResourceIdOutput>;
    getResourceById({ resourceId }: {
        resourceId: string;
    }): Promise<StorageResourceType | null>;
    saveResource({ resource }: {
        resource: StorageResourceType;
    }): Promise<StorageResourceType>;
    updateResource({ resourceId, workingMemory, metadata, }: {
        resourceId: string;
        workingMemory?: string;
        metadata?: Record<string, unknown>;
    }): Promise<StorageResourceType>;
    private sortThreads;
}
//# sourceMappingURL=inmemory.d.ts.map