// Generated by ts-to-zod
import { z } from 'zod';

export const modeSchema = z.union([z.literal('hi_res'), z.literal('fast')]);

export const createDocumentFromUrlParamsSchema = z.object({
  metadata: z.record(z.union([z.string(), z.number(), z.boolean(), z.array(z.string())])).optional(),
  mode: z.union([z.literal('hi_res'), z.literal('fast')]).optional(),
  name: z.string().optional(),
  external_id: z.string().optional(),
  url: z.string(),
  partition: z.string().optional(),
});

export const createDocumentRawParamsSchema = z.object({
  metadata: z.record(z.union([z.string(), z.number(), z.boolean(), z.array(z.string())])).optional(),
  data: z.union([z.string(), z.record(z.unknown())]),
  partition: z.string().optional(),
});

export const entitySchemaSchema = z.record(z.unknown());

export const scopeSchema = z.union([z.literal('document'), z.literal('chunk')]);

export const documentSchema = z.object({
  id: z.string(),
  created_at: z.string(),
  updated_at: z.string(),
  status: z.string(),
  name: z.string(),
  metadata: z.record(z.union([z.string(), z.number(), z.boolean(), z.array(z.string())])),
  chunk_count: z.number().optional().nullable(),
  external_id: z.string().optional().nullable(),
  partition: z.string().optional().nullable(),
});

export const documentDeleteSchema = z.object({
  status: z.string(),
});

export const documentFileUpdateSchema = z.object({
  status: z.string(),
});

export const paginationSchema = z.object({
  next_cursor: z.string().optional().nullable(),
});

export const documentMetadataSchema = z.record(z.unknown());

export const documentMetadataUpdateSchema = z.object({
  metadata: z.record(z.union([z.string(), z.number(), z.boolean(), z.array(z.string())])),
});

export const documentRawUpdateSchema = z.object({
  status: z.string(),
});

export const documentSummarySchema = z.object({
  document_id: z.string(),
  summary: z.string(),
});

export const entityDataSchema = z.record(z.unknown());

export const entitySchema = z.object({
  id: z.string(),
  created_at: z.string(),
  updated_at: z.string(),
  instruction_id: z.string(),
  document_id: z.string(),
  data: entityDataSchema,
});

export const errorMessageSchema = z.object({
  detail: z.string(),
});

export const validationErrorSchema = z.object({
  loc: z.array(z.union([z.string(), z.number()])),
  msg: z.string(),
  type: z.string(),
});

export const instructionSchema = z.object({
  id: z.string(),
  created_at: z.string(),
  updated_at: z.string(),
  name: z.string(),
  active: z.boolean().optional(),
  scope: z.union([z.literal('document'), z.literal('chunk')]).optional(),
  prompt: z.string(),
  entity_schema: entitySchemaSchema,
  filter: z.record(z.unknown()).optional(),
  partition: z.string().optional(),
});

export const metadataFilterSchema = z.record(z.unknown());

export const patchDocumentMetadataParamsSchema = z.object({
  metadata: z.record(z.union([z.string(), z.number(), z.boolean(), z.array(z.string())]).nullable()),
});

export const scoredChunkSchema = z.object({
  text: z.string(),
  score: z.number(),
  document_id: z.string(),
  document_metadata: documentMetadataSchema,
});

export const retrieveParamsSchema = z.object({
  query: z.string(),
  top_k: z.number().optional(),
  filter: metadataFilterSchema.optional(),
  rerank: z.boolean().optional(),
  max_chunks_per_document: z.number().optional(),
  partition: z.string().optional(),
});

export const updateDocumentRawParamsSchema = z.object({
  data: z.union([z.string(), z.record(z.unknown())]),
});

export const updateInstructionParamsSchema = z.object({
  active: z.boolean(),
});

export const createDocumentResponseSchema = documentSchema;

export const hTTPValidationErrorSchema = z.object({
  detail: z.array(validationErrorSchema).optional(),
});

export const listDocumentsDataSchema = z.object({
  query: z
    .object({
      cursor: z.string().optional().nullable(),
      filter: z.string().optional().nullable(),
      page_size: z.number().optional(),
    })
    .optional(),
});

export const documentListSchema = z.object({
  pagination: paginationSchema,
  documents: z.array(documentSchema),
});

export const listDocumentsErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const createDocumentRawDataSchema = z.object({
  body: createDocumentRawParamsSchema,
});

export const createDocumentRawResponseSchema = documentSchema;

export const createDocumentRawErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const createDocumentFromUrlDataSchema = z.object({
  body: createDocumentFromUrlParamsSchema,
});

export const createDocumentFromUrlResponseSchema = documentSchema;

export const createDocumentFromUrlErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const getDocumentDataSchema = z.object({
  path: z.object({
    document_id: z.string(),
  }),
});

export const getDocumentResponseSchema = documentSchema;

export const getDocumentErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const deleteDocumentDataSchema = z.object({
  path: z.object({
    document_id: z.string(),
  }),
});

export const deleteDocumentResponseSchema = documentDeleteSchema;

export const deleteDocumentErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const updateDocumentFileResponseSchema = documentFileUpdateSchema;

export const updateDocumentFileErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const updateDocumentRawDataSchema = z.object({
  body: updateDocumentRawParamsSchema,
  path: z.object({
    document_id: z.string(),
  }),
});

export const updateDocumentRawResponseSchema = documentRawUpdateSchema;

export const updateDocumentRawErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const patchDocumentMetadataDataSchema = z.object({
  body: patchDocumentMetadataParamsSchema,
  path: z.object({
    document_id: z.string(),
  }),
});

export const patchDocumentMetadataResponseSchema = documentMetadataUpdateSchema;

export const patchDocumentMetadataErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const retrieveDataSchema = z.object({
  body: retrieveParamsSchema,
});

export const retrievalSchema = z.object({
  scored_chunks: z.array(scoredChunkSchema),
});

export const retrieveErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const getDocumentSummaryDataSchema = z.object({
  path: z.object({
    document_id: z.string(),
  }),
});

export const getDocumentSummaryResponseSchema = documentSummarySchema;

export const getDocumentSummaryErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const listInstructionsResponseSchema = z.array(instructionSchema);

export const listInstructionsErrorSchema = errorMessageSchema;

export const createInstructionParamsSchema = z.object({
  name: z.string(),
  active: z.boolean().optional(),
  scope: z.union([z.literal('document'), z.literal('chunk')]).optional(),
  prompt: z.string(),
  entity_schema: entitySchemaSchema,
  filter: z.record(z.unknown()).optional(),
  partition: z.string().optional(),
});

export const createInstructionResponseSchema = instructionSchema;

export const createInstructionErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const updateInstructionDataSchema = z.object({
  body: updateInstructionParamsSchema,
  path: z.object({
    instruction_id: z.string(),
  }),
});

export const updateInstructionResponseSchema = instructionSchema;

export const updateInstructionErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const listEntitiesByInstructionDataSchema = z.object({
  path: z.object({
    instruction_id: z.string(),
  }),
  query: z
    .object({
      cursor: z.string().optional().nullable(),
      page_size: z.number().optional(),
    })
    .optional(),
});

export const entityListSchema = z.object({
  pagination: paginationSchema,
  entities: z.array(entitySchema),
});

export const listEntitiesByInstructionErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const listEntitiesByDocumentDataSchema = z.object({
  path: z.object({
    document_id: z.string(),
  }),
  query: z
    .object({
      cursor: z.string().optional().nullable(),
      page_size: z.number().optional(),
    })
    .optional(),
});

export const listEntitiesByDocumentResponseSchema = entityListSchema;

export const listEntitiesByDocumentErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const createDocumentErrorSchema = z.union([errorMessageSchema, hTTPValidationErrorSchema]);

export const listDocumentsResponseSchema = documentListSchema;

export const retrieveResponseSchema = retrievalSchema;

export const createInstructionDataSchema = z.object({
  body: createInstructionParamsSchema,
});

export const listEntitiesByInstructionResponseSchema = entityListSchema;
