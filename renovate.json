{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "rangeStrategy": "bump",
  "extends": [
    ":dependencyDashboard",
    ":disableRateLimiting",
    ":maintainLockFilesWeekly",
    ":semanticCommits",
    ":automergeDisabled",
    ":disablePeerDependencies",
    ":ignoreModulesAndTests",
    "replacements:all",
    "workarounds:typesNodeVersioning",
    "group:recommended",
    "monorepo:opentelemetry-js"
  ],
  "postUpdateOptions": ["pnpmDedupe"],
  "rebaseWhen": "conflicted",
  "major": {
    "dependencyDashboardApproval": true
  },
  "ignorePaths": ["docs/**", "packages/memory/integration-tests/**", "explorations/**", ".github/scripts"],
  "packageRules": [
    {
      "matchDepTypes": ["engines"],
      "enabled": false
    },
    {
      "matchDatasources": ["npm"],
      "minimumReleaseAge": "3 days"
    },
    {
      "groupName": "examples",
      "commitMessageTopic": "examples",
      "groupSlug": "examples-minor",
      "matchFileNames": ["examples/**"],
      "schedule": "before 7am on Monday",
      "matchUpdateTypes": ["patch", "minor"]
    },
    {
      "matchPackageNames": ["@types/node"],
      "matchUpdateTypes": ["major"],
      "enabled": false
    },
    {
      "matchPackageNames": ["@types/node"],
      "matchUpdateTypes": ["minor", "patch"],
      "automerge": true
    },
    {
      "matchSourceUrls": ["https://github.com/honojs/hono"]
    },
    {
      "matchSourceUrls": ["https://github.com/vercel/ai"]
    },
    {
      "matchSourceUrls": ["https://github.com/assistant-ui/assistant-ui"]
    },
    {
      "matchSourceUrls": ["https://github.com/radix-ui/primitives"]
    },
    {
      "groupName": "E2E tests",
      "commitMessageTopic": "e2e-tests",
      "matchFileNames": ["e2e-tests/**/package.json"],
      "matchDepTypes": ["dependencies", "devDependencies"],
      "dependencyDashboardApproval": false,
      "automerge": true
    },
    {
      "groupName": "typescript",
      "matchFileNames": ["+(package.json)", "**/package.json", "!./examples/**", "!./docs/**"],
      "matchPackageNames": ["typescript", "/^@typescript-eslint\//"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDepTypes": ["dependencies", "devDependencies"],
      "dependencyDashboardApproval": false
    },
    {
      "groupName": "formatting & linting",
      "commitMessageTopic": "Formatting & linting",
      "matchFileNames": ["+(package.json)", "**/package.json"],
      "matchPackageNames": ["eslint", "prettier", "/^eslint-/"],
      "excludePackageNames": ["@typescript-eslint/"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDepTypes": ["dependencies", "devDependencies"],
      "dependencyDashboardApproval": false,
      "automerge": true
    },
    {
      "groupName": "Build tools",
      "commitMessageTopic": "Build tools",
      "matchFileNames": ["+(package.json)", "**/package.json"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDepTypes": ["devDependencies"],
      "matchPackageNames": [
        "@microsoft/api-extractor",
        "tsup",
        "rollup",
        "@types/node",
        "dotenv",
        "vitest",
        "@vitest/*"
      ]
    },
    {
      "groupName": "Schema",
      "commitMessageTopic": "Schema",
      "matchFileNames": ["+(package.json)", "**/package.json"],
      "matchPackageNames": ["zod", "json-schema", "zod-to-json-schema"],
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchDepTypes": ["dependencies", "devDependencies"],
      "dependencyDashboardApproval": false
    },
    {
      "groupName": "Cloudflare",
      "commitMessageTopic": "Cloudflare",
      "matchFileNames": ["+(package.json)", "**/package.json"],
      "matchPackageNames": ["cloudflare", "miniflare"],
      "matchUpdateTypes": ["minor", "patch"],
      "matchDepTypes": ["dependencies", "devDependencies"],
      "dependencyDashboardApproval": false
    }
  ]
}
