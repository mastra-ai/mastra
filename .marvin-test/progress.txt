## Task 1: Navigation - Clean up breadcrumb navigation (COMPLETED)

### Changes Made:
- Removed 'Chat' button from agent-header.tsx (packages/playground/src/domains/agents/agent-header.tsx)
- Removed the DividerIcon that preceded the Chat button
- The 'Traces' button remains intact and navigates to `/observability?entity=${agentId}`
- Traces button uses Button component from @mastra/playground-ui which follows the design system

### Files Modified:
- packages/playground/src/domains/agents/agent-header.tsx

### Verification:
- TypeScript type checks passed
- The Traces button CSS is inherited from the playground-ui design system Button component


## Task 2: UI-UX - Modernize Thread List layout to minimalist, list-based design (COMPLETED)

### Changes Made:
- Removed bottom borders (`border-b border-border1`) from ThreadItem component
- Changed from fixed height (`h-[54px]`) to minimum height (`min-h-[48px]`) for flexible content
- Added rounded corners (`rounded-md`) for modern appearance
- Added horizontal margin (`mx-1`) and vertical spacing (`my-0.5`) for visual separation
- Changed active state from `bg-accent1Dark` to `bg-surface3` for consistent hover/active styling
- Added vertical padding (`py-1`) to ThreadList container
- Removed `overflow-hidden` from Threads container to allow proper scroll behavior

### Files Modified:
- packages/playground-ui/src/ds/components/Threads/threads.tsx

### E2E Tests Added:
- packages/playground/e2e/tests/agents/$agentId/thread-list.spec.ts
  - Tests thread list navigation behavior
  - Tests hover feedback on thread items
  - Tests active thread highlighting
  - Tests thread deletion behavior
  - Tests scroll container existence

### Verification:
- TypeScript type checks passed (tsc --noEmit)
- Design follows minimalist list-based pattern (no borders, subtle hover states, rounded items)
- Smooth scrolling enabled through proper overflow handling


## Task 3: Functional - Consolidate LLM and Model selection into the Chat Input area (COMPLETED)

### Changes Made:
- Created new `ChatModelSelector` component (packages/playground-ui/src/lib/ai-ui/chat-model-selector.tsx)
  - Compact dropdown showing current provider logo and model name
  - Lists all available models grouped by provider with connection status indicators
  - Connected providers shown first, then sorted by popularity
  - Keyboard navigation support (Arrow keys, Enter, Escape)
  - Automatically focuses chat input after model selection
- Integrated `ChatModelSelector` into the `Composer` component in thread.tsx
  - Model selector placed in the toolbar area adjacent to attachment/microphone icons
  - Layout uses `justify-between` to position model selector on left, action buttons on right
- Removed single-model selector from sidebar `AgentMetadata` component
  - The `AgentMetadataModelSwitcher` is no longer rendered for single-model agents
  - Multi-model agents (with `modelList`) still show the `AgentMetadataModelList` in the sidebar
- Cleaned up unused imports in agent-metadata.tsx

### Files Created:
- packages/playground-ui/src/lib/ai-ui/chat-model-selector.tsx

### Files Modified:
- packages/playground-ui/src/lib/ai-ui/thread.tsx
  - Added import for ChatModelSelector
  - Updated Composer component to include model selector in toolbar
- packages/playground-ui/src/domains/agents/components/agent-metadata/agent-metadata.tsx
  - Removed single-model AgentMetadataModelSwitcher section
  - Kept AgentMetadataModelList for multi-model agents
  - Removed unused imports (AlertTriangleIcon, AgentMetadataModelSwitcher, useResetAgentModel, useUpdateAgentModel)

### E2E Tests Added:
- packages/playground/e2e/tests/agents/$agentId/chat-model-selector.spec.ts
  - Tests model selector visibility in chat input area
  - Tests model selector is hidden for multi-model agents
  - Tests dropdown opens on click
  - Tests model selection updates displayed model
  - Tests model selection persists after navigation
  - Tests keyboard navigation (ArrowDown, ArrowUp, Escape)
  - Tests provider connection status indicators
  - Tests model selector is not in sidebar Overview tab

### Verification:
- TypeScript type checks passed for both playground-ui and playground packages
- Model selection is now accessible directly from the chat input area
- State updates propagate correctly through useUpdateAgentModel hook
- Query invalidation ensures UI stays in sync with backend state

