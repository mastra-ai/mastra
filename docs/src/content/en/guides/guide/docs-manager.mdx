---
title: "Guide: Building a Docs Manager"
description: Build an AI documentation manager that creates, updates, and organizes markdown documentation files using workspace filesystem.
---

import Steps from "@site/src/components/Steps";
import StepItem from "@site/src/components/StepItem";

# Building a Docs Manager

In this guide, you'll build a documentation manager that maintains your project's docs. It creates well-structured markdown files, keeps documentation organized, and prevents accidental overwrites. You'll learn how to set up a workspace filesystem, create an agent with document management instructions, and use it to generate and update documentation through conversational prompts.

## Prerequisites

- Node.js `v22.13.0` or later installed
- An API key from a supported [Model Provider](/models)
- An existing Mastra project (Follow the [installation guide](/guides/getting-started/quickstart) to set up a new project)

## Set up the workspace

The workspace uses a local filesystem to manage documentation files. The agent reads and writes files within the workspace directory.

<Steps>

<StepItem title="Configure workspace">

Create the workspace configuration in your Mastra entry file. This sets up a local filesystem that the agent can use to manage documentation:

```typescript title="src/mastra/index.ts"
import { resolve } from 'node:path';
import { Mastra } from '@mastra/core';
import { Workspace, LocalFilesystem } from '@mastra/core/workspace';

const workspace = new Workspace({
  filesystem: new LocalFilesystem({
    basePath: resolve(import.meta.dirname, '../../workspace'),
  }),
});

export const mastra = new Mastra({
  workspace,
});
```

</StepItem>

<StepItem title="Create docs structure">

Inside the `workspace` directory at your project root, create the following folders:

- `docs/guides/` — For how-to guides
- `docs/api/` — For API reference documentation
- `docs/tutorials/` — For step-by-step tutorials

</StepItem>

<StepItem title="Add initial documentation">

Create a root README to serve as the documentation index:

```markdown title="workspace/docs/README.md"
# Project Documentation

Welcome to the documentation!

## Sections

- [Guides](./guides/) - How-to guides
- [API](./api/) - API reference
- [Tutorials](./tutorials/) - Step-by-step tutorials
```

Add a sample guide so the agent can see the existing documentation style:

````markdown title="workspace/docs/guides/getting-started.md"
# Getting Started

Quick start guide for the project.

## Installation

```bash
npm install example-package
```

## Quick Example

```typescript
import { Example } from 'example-package';

const example = new Example();
example.run();
```
````

</StepItem>

</Steps>

## Create the docs manager

<Steps>

<StepItem title="Build the agent">

Create a new file `src/mastra/agents/docs-manager.ts` and define the agent:

```typescript title="src/mastra/agents/docs-manager.ts"
import { Agent } from '@mastra/core/agent';

export const docsManager = new Agent({
  id: 'docs-manager',
  name: 'Docs Manager',
  instructions: `You are a documentation manager that creates and maintains markdown docs.

When creating new docs:
1. Ask for topic and target audience
2. Create well-structured markdown with clear sections
3. Include relevant code examples with syntax highlighting
4. Save in the appropriate directory:
   - /docs/guides/ for user guides and how-tos
   - /docs/api/ for API reference
   - /docs/tutorials/ for step-by-step tutorials

When updating existing docs:
1. ALWAYS read the file first
2. Make targeted updates without removing unrelated content
3. Preserve existing structure and formatting

Use kebab-case naming for files (getting-started.md).
Always explain what you're creating and why.`,
  model: 'openai/gpt-4o',
});
```

</StepItem>

<StepItem title="Register the agent">

Update your `src/mastra/index.ts` file to import and register the docs manager agent:

```typescript title="src/mastra/index.ts"
import { resolve } from 'node:path';
import { Mastra } from '@mastra/core';
import { Workspace, LocalFilesystem } from '@mastra/core/workspace';
import { docsManager } from './agents/docs-manager';

const workspace = new Workspace({
  filesystem: new LocalFilesystem({
    basePath: resolve(import.meta.dirname, '../../workspace'),
  }),
});

export const mastra = new Mastra({
  workspace,
  agents: { docsManager },
});
```

</StepItem>

</Steps>

## Use your docs manager

<Steps>

<StepItem title="Start Mastra Studio">

```bash npm2yarn
npm run dev
```

Open [localhost:4111](http://localhost:4111) and navigate to the Docs Manager.

</StepItem>

<StepItem title="Create new documentation">

Ask the agent to create a tutorial:

```
Create a tutorial for setting up authentication.
Cover installation, configuration, and a basic example.
```

The agent should create a file like `/docs/tutorials/authentication-setup.md`. Since agent responses are non-deterministic, the exact content will vary, but you should see something similar to:

````markdown
# Authentication Setup

Learn how to add authentication to your application.

## Installation

Install the auth package:

```bash
npm install @example/auth
```

## Configuration

Create a config file:

```typescript
// auth.config.ts
export const authConfig = {
  provider: 'oauth',
  clientId: process.env.AUTH_CLIENT_ID,
  secret: process.env.AUTH_SECRET,
};
```

## Basic Example

```typescript
import { createAuth } from '@example/auth';
import { authConfig } from './auth.config';

const auth = createAuth(authConfig);

app.get('/protected', auth.requireAuth(), (req, res) => {
  res.json({ user: req.user });
});
```
````

</StepItem>

<StepItem title="Update existing docs">

Try updating an existing document:

```
Update the getting started guide to include
a section on configuration after the Quick Example
```

The agent should read the existing `getting-started.md` file, find the right insertion point, and add the new section without disrupting existing content.

</StepItem>

<StepItem title="Organize documentation">

Ask the agent to create an index:

```
List all tutorial files and create an index page
that links to all of them
```

The agent should create a file like `/docs/tutorials/README.md` that links to all available tutorials.

</StepItem>

</Steps>

## Next steps

You can extend this manager to:

- Add BM25 or vector search to find relevant documentation
- Create skills for documentation templates
- Build automated doc generation from source code
- Integrate with GitHub to update docs on commits
- Add validation to check links and formatting

Learn more:
- [Filesystem documentation](/docs/workspace/filesystem)
- [Workspace overview](/docs/workspace/overview)
- [Search and indexing](/docs/workspace/search)
