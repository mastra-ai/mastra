---
title: "Guide: Building a Full Dev Assistant with Workspace | Mastra"
description: Build a complete development assistant that combines filesystem, sandbox, skills, and search to write code, run tests, and maintain documentation.
---

import Steps from "@site/src/components/Steps";
import StepItem from "@site/src/components/StepItem";

# Building a Full Dev Assistant

In this guide, you'll build a complete development assistant that combines all workspace features: filesystem for file management, sandbox for code execution, skills for coding standards, and search for finding examples.

## Before you begin

- A Mastra project ([Quickstart](/guides/getting-started/quickstart))
- An OpenAI API key
- Node.js v22.13.0+

## Set up the workspace

<Steps>

<StepItem title="Create full workspace structure">

```bash
mkdir -p workspace/src/utils
mkdir -p workspace/tests
mkdir -p workspace/docs
mkdir -p workspace/skills/coding-standards/references
```

</StepItem>

<StepItem title="Add sample project files">

```typescript title="workspace/src/utils/string-helpers.ts"
export function capitalize(str: string): string {
  if (!str) return str;
  return str.charAt(0).toUpperCase() + str.slice(1);
}

export function slugify(str: string): string {
  return str
    .toLowerCase()
    .replace(/[^\w\s-]/g, '')
    .replace(/\s+/g, '-');
}
```

```typescript title="workspace/tests/string-helpers.test.ts"
import { describe, it, expect } from 'vitest';
import { capitalize, slugify } from '../src/utils/string-helpers';

describe('String Helpers', () => {
  describe('capitalize', () => {
    it('capitalizes first letter', () => {
      expect(capitalize('hello')).toBe('Hello');
    });
  });

  describe('slugify', () => {
    it('converts to lowercase and replaces spaces', () => {
      expect(slugify('Hello World')).toBe('hello-world');
    });
  });
});
```

```json title="workspace/package.json"
{
  "name": "workspace-project",
  "scripts": {
    "test": "vitest run"
  },
  "devDependencies": {
    "vitest": "^1.0.0"
  }
}
```

</StepItem>

<StepItem title="Create coding standards skill">

```markdown title="workspace/skills/coding-standards/SKILL.md"
---
name: coding-standards
description: Project coding standards and testing guidelines
---

# Coding Standards

## Code Quality
- Functions under 50 lines
- Use descriptive variable names
- Always add TypeScript types

## Testing
- Test all exported functions
- Use AAA pattern: Arrange, Act, Assert
- Cover happy paths and edge cases

## Before Committing
1. Write implementation
2. Write comprehensive tests
3. Run tests: \`npm test\`
4. All tests must pass
```

```markdown title="workspace/skills/coding-standards/references/testing-guide.md"
# Testing Guide

## AAA Pattern

\`\`\`typescript
it('descriptive test name', () => {
  // Arrange: Set up test data
  const input = 'test';

  // Act: Execute the function
  const result = doSomething(input);

  // Assert: Verify the result
  expect(result).toBe('expected');
});
\`\`\`

## What to Test
- Happy paths (normal inputs)
- Edge cases (empty, null, boundary values)
- Error cases (invalid inputs, exceptions)
```

</StepItem>

<StepItem title="Configure full workspace">

```typescript title="src/mastra/index.ts"
import { Mastra } from '@mastra/core';
import { Workspace, LocalFilesystem, LocalSandbox } from '@mastra/core/workspace';

const workspace = new Workspace({
  filesystem: new LocalFilesystem({
    basePath: './workspace',
  }),
  sandbox: new LocalSandbox({
    workingDirectory: './workspace',
  }),
  skills: ['/skills'],
  bm25: true,
  autoIndexPaths: ['/docs', '/src'],
});

await workspace.init();

export const mastra = new Mastra({
  workspace,
});
```

</StepItem>

</Steps>

## Create the dev assistant

<Steps>

<StepItem title="Build the agent">

```typescript title="src/mastra/agents/dev-assistant.ts"
import { Agent } from '@mastra/core/agent';

export const devAssistant = new Agent({
  id: 'dev-assistant',
  name: 'Dev Assistant',
  instructions: `You are a development assistant.

When adding features:
1. Activate 'coding-standards' skill
2. Search workspace for similar code examples
3. Write the implementation following standards
4. Write comprehensive tests
5. Run tests: \`npm test\`
6. Update documentation if needed

For every new feature: Write code → Write tests → Run tests → Update docs

Always explain your reasoning and steps.`,
  model: 'openai/gpt-4o',
});
```

</StepItem>

<StepItem title="Register the agent">

```typescript title="src/mastra/index.ts"
import { Mastra } from '@mastra/core';
import { Workspace, LocalFilesystem, LocalSandbox } from '@mastra/core/workspace';
import { devAssistant } from './agents/dev-assistant';

const workspace = new Workspace({
  filesystem: new LocalFilesystem({ basePath: './workspace' }),
  sandbox: new LocalSandbox({ workingDirectory: './workspace' }),
  skills: ['/skills'],
  bm25: true,
  autoIndexPaths: ['/docs', '/src'],
});

await workspace.init();

export const mastra = new Mastra({
  workspace,
  agents: { devAssistant },
});
```

</StepItem>

</Steps>

## Test-driven development workflow

<Steps>

<StepItem title="Start Mastra Studio">

```bash npm2yarn
npm run dev
```

Open [localhost:4111](http://localhost:4111) and navigate to Dev Assistant.

</StepItem>

<StepItem title="Add a new feature with TDD">

```
Add a 'truncate' function to string-helpers.ts that shortens
strings to a max length. Add '...' if truncated.

Follow TDD: write tests first, then implementation.
```

The agent will:

1. Activate coding-standards skill
2. Search workspace for similar code patterns
3. Write tests first:

```typescript
describe('truncate', () => {
  it('truncates long strings', () => {
    expect(truncate('Hello World', 5)).toBe('He...');
  });

  it('keeps short strings unchanged', () => {
    expect(truncate('Hi', 10)).toBe('Hi');
  });

  it('handles edge cases', () => {
    expect(truncate('', 5)).toBe('');
  });
});
```

4. Write implementation:

```typescript
export function truncate(str: string, maxLength: number): string {
  if (!str || maxLength < 0) return str;
  if (str.length <= maxLength) return str;
  if (maxLength === 0) return '...';
  return str.slice(0, maxLength - 3) + '...';
}
```

5. Run tests and verify they pass

</StepItem>

<StepItem title="Refactor with safety">

```
Refactor string-helpers.ts to be more functional.
Make sure all tests still pass.
```

The agent will:
1. Read current code and tests
2. Refactor to functional style
3. Run tests to ensure behavior unchanged
4. Report results

</StepItem>

</Steps>

## Next steps

You can extend this assistant to:

- Add more skills for different languages or frameworks
- Create specialized agents for backend, frontend, or DevOps
- Integrate with GitHub for automated PR reviews
- Build CI/CD automation
- Add multi-agent workflows

Learn more:
- [Workspace overview](/docs/workspace/overview)
- [Skills](/docs/workspace/skills)
- [Filesystem](/docs/workspace/filesystem)
- [Sandbox](/docs/workspace/sandbox)
- [Search](/docs/workspace/search)
