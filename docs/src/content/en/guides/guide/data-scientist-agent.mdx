---
title: "Guide: Building a Data Scientist Agent with Workspace Sandbox | Mastra"
description: Build an AI data scientist that executes Python code to analyze CSV files, generate statistics, and create visualizations using workspace sandbox.
---

import Steps from "@site/src/components/Steps";
import StepItem from "@site/src/components/StepItem";

# Building a Data Scientist Agent

In this guide, you'll build a data scientist agent that analyzes CSV data by writing and executing Python scripts. The agent uses workspace sandbox to safely run code, compute statistics, and generate insights from data files.

## Before you begin

- A Mastra project ([Quickstart](/guides/getting-started/quickstart))
- An OpenAI API key
- Node.js v22.13.0+
- Python 3.x with pandas installed (`pip install pandas`)

## Set up the workspace

<Steps>

<StepItem title="Create data directory">

```bash
mkdir -p workspace/data
mkdir -p workspace/scripts
```

</StepItem>

<StepItem title="Add sample sales data">

```csv title="workspace/data/sales.csv"
date,product,quantity,revenue
2024-01-01,Widget A,10,150.00
2024-01-01,Widget B,5,200.00
2024-01-02,Widget A,8,120.00
2024-01-02,Widget B,12,480.00
2024-01-03,Widget A,15,225.00
2024-01-03,Widget B,7,280.00
2024-01-04,Widget A,20,300.00
2024-01-04,Widget B,9,360.00
```

</StepItem>

<StepItem title="Configure workspace with sandbox">

```typescript title="src/mastra/index.ts"
import { Mastra } from '@mastra/core';
import { Workspace, LocalFilesystem, LocalSandbox } from '@mastra/core/workspace';

const workspace = new Workspace({
  filesystem: new LocalFilesystem({
    basePath: './workspace',
  }),
  sandbox: new LocalSandbox({
    workingDirectory: './workspace',
    timeout: 60000,
  }),
});

export const mastra = new Mastra({
  workspace,
});
```

</StepItem>

</Steps>

## Create the data scientist agent

<Steps>

<StepItem title="Build the agent">

```typescript title="src/mastra/agents/data-scientist.ts"
import { Agent } from '@mastra/core/agent';

export const dataScientist = new Agent({
  id: 'data-scientist',
  name: 'Data Scientist',
  instructions: `You are an AI data scientist that analyzes CSV files.

When asked to analyze data:

1. Check what files are in /data
2. Read the CSV to understand structure
3. Write a Python script in /scripts to analyze it
4. Execute the script using execute_command
5. Interpret results and explain findings

For analysis, use pandas to:
- Calculate statistics (mean, median, sum, min, max)
- Group and aggregate data
- Find trends and patterns

Keep scripts simple and print results clearly. Always explain what the data shows in plain language.`,
  model: 'openai/gpt-4o',
});
```

</StepItem>

<StepItem title="Register the agent">

```typescript title="src/mastra/index.ts"
import { Mastra } from '@mastra/core';
import { Workspace, LocalFilesystem, LocalSandbox } from '@mastra/core/workspace';
import { dataScientist } from './agents/data-scientist';

const workspace = new Workspace({
  filesystem: new LocalFilesystem({
    basePath: './workspace',
  }),
  sandbox: new LocalSandbox({
    workingDirectory: './workspace',
  }),
});

export const mastra = new Mastra({
  workspace,
  agents: { dataScientist },
});
```

</StepItem>

</Steps>

## Run your first analysis

<Steps>

<StepItem title="Start Mastra Studio">

```bash npm2yarn
npm run dev
```

Open [localhost:4111](http://localhost:4111) and navigate to the Data Scientist agent.

</StepItem>

<StepItem title="Ask for revenue analysis">

```
What's the total revenue for each product in the sales data?
```

The agent will:
1. List files in `/data` and find `sales.csv`
2. Read the file to understand its structure
3. Write and execute a Python script
4. Explain the results

Example output:

```
Based on the sales data:

Widget A: $795.00 total revenue
- Consistent sales across 4 days
- Average daily revenue: $198.75

Widget B: $1,320.00 total revenue
- Higher revenue despite fewer units some days
- Average daily revenue: $330.00

Widget B generates 66% more revenue than Widget A.
```

</StepItem>

<StepItem title="Ask for trend analysis">

```
Show me the daily revenue trend
```

The agent creates a script to calculate daily totals and shows:

```
Daily Revenue Trend:
2024-01-01: $350.00
2024-01-02: $600.00
2024-01-03: $505.00
2024-01-04: $660.00

The trend is positive with revenue growing from $350 to $660
over 4 days, a +$310.00 increase (89%).
```

</StepItem>

</Steps>

## Next steps

You can extend this agent to:

- Add more data sources (JSON, Excel, databases)
- Generate charts and visualizations with matplotlib
- Build automated reporting workflows
- Create specialized analysis skills
- Integrate with BI tools

Learn more:
- [Sandbox documentation](/docs/workspace/sandbox)
- [Filesystem documentation](/docs/workspace/filesystem)
- [Workspace overview](/docs/workspace/overview)
