---
title: "Reference: WorkspaceSandbox Interface | Workspace"
description: "Documentation for the WorkspaceSandbox interface that defines command execution operations."
packages:
  - "@mastra/core"
---

# WorkspaceSandbox Interface

The `WorkspaceSandbox` interface defines how workspaces execute commands.

## Methods

### `start()`

Start the sandbox. Called by `workspace.init()`.

```typescript
await sandbox.start();
```

### `stop()`

Stop the sandbox.

```typescript
await sandbox.stop?.();
```

### `destroy()`

Clean up sandbox resources. Called by `workspace.destroy()`.

```typescript
await sandbox.destroy();
```

### `executeCommand(command, args?, options?)`

Execute a shell command.

```typescript
const result = await sandbox.executeCommand('ls', ['-la', '/docs']);
const result = await sandbox.executeCommand('npm', ['install', 'lodash']);
```

**Parameters:**

<PropertiesTable
  content={[
    {
      name: "command",
      type: "string",
      description: "Command to execute",
    },
    {
      name: "args",
      type: "string[]",
      description: "Command arguments",
      isOptional: true,
    },
    {
      name: "options.timeout",
      type: "number",
      description: "Execution timeout in milliseconds",
      isOptional: true,
    },
    {
      name: "options.cwd",
      type: "string",
      description: "Working directory for the command",
      isOptional: true,
    },
    {
      name: "options.env",
      type: "Record<string, string>",
      description: "Additional environment variables",
      isOptional: true,
    },
    {
      name: "options.onStdout",
      type: "(data: string) => void",
      description: "Callback for stdout streaming",
      isOptional: true,
    },
    {
      name: "options.onStderr",
      type: "(data: string) => void",
      description: "Callback for stderr streaming",
      isOptional: true,
    },
  ]}
/>

**Returns:** `Promise<CommandResult>`

```typescript
interface CommandResult {
  success: boolean;
  stdout: string;
  stderr: string;
  exitCode: number;
  executionTimeMs: number;
}
```

### `getInfo()`

Get sandbox status and resource information.

```typescript
const info = await sandbox.getInfo();
// { status: 'running', resources: { memoryMB: 512, cpuPercent: 5 } }
```

**Returns:** `Promise<SandboxInfo>`

```typescript
interface SandboxInfo {
  status: 'starting' | 'running' | 'stopped' | 'error';
  resources?: {
    memoryMB?: number;
    memoryUsedMB?: number;
    cpuCores?: number;
    cpuPercent?: number;
    diskMB?: number;
    diskUsedMB?: number;
  };
}
```

### `getInstructions()`

Get a description of how this sandbox works. Used in tool descriptions to help agents understand the execution context.

```typescript
const instructions = sandbox.getInstructions?.();
// 'Local command execution. Working directory: "/workspace".'
```

**Returns:** `string`

## Related

- [Workspace Class](/reference/workspace/workspace-class)
- [Filesystem Interface](/reference/workspace/filesystem)
