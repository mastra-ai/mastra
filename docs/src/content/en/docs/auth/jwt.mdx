---
title: "MastraJwtAuth"
description: "Documentation for the MastraJwtAuth class, which authenticates Mastra applications using JSON Web Tokens."
---

# MastraJwtAuth

The `MastraJwtAuth` class provides a lightweight authentication mechanism for Mastra using JSON Web Tokens (JWTs). It verifies incoming requests based on a shared secret and integrates with the Mastra server using the `experimental_auth` option.

## Installation

```bash copy
npm install @mastra/auth
```

## Usage example

```typescript {2,7-9} filename="src/mastra/index.ts" showLineNumbers copy
import { Mastra } from "@mastra/core/mastra";
import { MastraJwtAuth } from '@mastra/auth';

export const mastra = new Mastra({
  // ..
  server: {
    experimental_auth: new MastraJwtAuth({
        secret: "<secret>"
    }),
  },
});
```

## Configuring `MastraClient`

With `experimental_auth` enabled, all requests made to Mastra using the [Mastra Client SDK](/docs/client-js/overview) will require a secret be sent in the authorization header:

```typescript filename="lib/mastra/mastra-client.ts" showLineNumbers copy
import { MastraClient } from "@mastra/client-js";

export const mastraClient = new MastraClient({
  baseUrl: "https://<mastra-api-url>",
  headers: {
    Authorization: `Bearer <secret>`
  }
});
```

## Testing

```bash {3} copy
curl -X POST https://<mastra-api-url>/api/agents/weatherAgent/generate \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer <secret>" \
  -d '{
    "messages": [
      {
        "role": "user",
        "content": "What'\''s the weather in London"
      }
    ]
  }'
```

If the Authorization was successful you'll see your agent's response. If Authorization fails, you'll see the following message:

```echo
Error: ....
```

> See [Mastra Client SDK](/docs/client-js/overview) for more configuration options.

## Mastra Cloud Playground

To access the Playground in Mastra Cloud with `experimental_auth` enabled...


