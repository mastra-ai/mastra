---
title: "Installing Mastra | Getting Started | Mastra Docs"
description: Guide on installing Mastra and setting up the necessary prerequisites for running it with various LLM providers.
---

import { Callout, Steps } from "nextra/components";
import { Tabs, Tab } from "@/components/tabs";
import { VideoPlayer } from "@/components/video-player"

# Install Mastra

The `create mastra` CLI command is the quickest way to start a new Mastra project. It walks you through setup and creates example agents, workflows, and tools for you to learn from or adapt. 

For more control over setup, or to add Mastra to an existing project, see the [manual installation guide](#install-manually). You can also use [`mastra init`](/reference/cli/mastra#mastra-init) for existing projects.

## Before you start

- You'll need an API key from a [model provider](/models) to complete setup. We suggest starting with [Gemini](https://aistudio.google.com/app/api-keys), as you likely already have a Google account and they don't require a card.
- Node.js 20 or later.

## Install with `create mastra`

You can run `create mastra` anywhere on your machine. 

The wizard will guide you through setup, create a new directory for your project, and generate a weather agent with example workflows and tools to get you started.

{/*
LLM CONTEXT: This Tabs component shows different package manager commands for creating a new Mastra project.
Each tab displays the equivalent command for that specific package manager (npx, npm, yarn, pnpm, bun).
This helps users choose their preferred package manager while following the same installation process.
All commands achieve the same result - creating a new Mastra project with the interactive setup.
*/}

<Tabs items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab>
    ```bash copy
    npm create mastra@latest -y
    ```
  </Tab>
  <Tab>
    ```bash copy
    pnpm create mastra@latest -y
    ```
  </Tab>
  <Tab>
    ```bash copy
    yarn create mastra@latest -y
    ```
  </Tab>
  <Tab>
    ```bash copy
    bun create mastra@latest -y
    ```
  </Tab>
</Tabs>

<Callout type="default">
You can use flags with `create mastra` like `--no-example` to skip the example weather agent or `--template` to start from a specific [template](/templates). Read the [CLI reference](/reference/cli/create-mastra) for all options.
</Callout>


### Test your agent

Once setup is complete, follow the instructions in your terminal to start the Mastra dev server, then open the Playground at http://localhost:4111.

Try asking about the weather. If your API key is set up correctly, you'll get a response:

<VideoPlayer
  src="https://res.cloudinary.com/mastra-assets/video/upload/v1751406022/local-dev-agents-playground_100_m3begx.mp4"
/>

<Callout type="default">
If you encounter an error, your API key may not be configured correctly. Double-check your setup and try again. Need more help? [Join our Discord](https://discord.gg/BTYqqHKUrf) and talk to the team directly.
</Callout>

The [Playground](/docs/server-db/local-dev-playground) lets you rapidly build and prototype agents without needing to build a UI. Once you're ready, you can integrate your Mastra agent into your application using the guides below.


### Next steps

- Read more about [Mastra's features](/docs#why-mastra).
- Integrate Mastra with your frontend framework: [Next.js](/docs/frameworks/web-frameworks/next-js), [React](/docs/frameworks/web-frameworks/vite-react), or [Astro](/docs/frameworks/web-frameworks/astro).
- Build an agent from scratch following one of our [guides](/guides).
- Watch conceptual guides on our [YouTube channel](https://www.youtube.com/@mastra-ai) and [subscribe](https://www.youtube.com/@mastra-ai?sub_confirmation=1)!

## Install manually

If you prefer not to use our automatic `create mastra` CLI tool, you can set up your project yourself by following the guide below.

<Steps>

### Create project

Create a new project and change directory:

```bash copy
mkdir my-first-agent && cd my-first-agent
```

Initialize a TypeScript project and install the following dependencies:

{/*
LLM CONTEXT: This Tabs component shows manual installation commands for different package managers.
Each tab displays the complete setup process for that package manager including project initialization,
dev dependencies installation, and core Mastra packages installation.
This helps users manually set up a Mastra project with their preferred package manager.
*/}

<Tabs items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab>
    ```bash copy
    npm init -y
    npm install -D typescript @types/node mastra@latest
    npm install @mastra/core@latest zod@^4
    ```
  </Tab>
  <Tab>
    ```bash copy
    pnpm init -y
    pnpm add -D typescript @types/node mastra@latest
    pnpm add @mastra/core@latest zod@^4
    ```
  </Tab>
  <Tab>
    ```bash copy
    yarn init -y
    yarn add -D typescript @types/node mastra@latest 
    yarn add @mastra/core@latest zod@^4
    ```
  </Tab>
  <Tab>
    ```bash copy
    bun init -y
    bun add -d typescript @types/node mastra@latest 
    bun add @mastra/core@latest zod@^4
    ```
  </Tab>
</Tabs>

Add `dev` and `build` scripts to your `package.json` file:

```json filename="package.json" copy /,/ /"dev": "mastra dev",/ /"build": "mastra build"/
{
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "dev": "mastra dev",
    "build": "mastra build"
  }
}
```

### Initialize TypeScript

Create a `tsconfig.json` file:

```bash copy
touch tsconfig.json
```

Add the following configuration:


```json filename="tsconfig.json" copy
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ES2022",
    "moduleResolution": "bundler",
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "strict": true,
    "skipLibCheck": true,
    "noEmit": true,
    "outDir": "dist"
  },
  "include": [
    "src/**/*"
  ]
}
```
<Callout type="info">
Mastra requires modern `module` and `moduleResolution` settings. Using `CommonJS` or `node` will cause resolution errors.
</Callout>

### Set API key

Create an `.env` file:

```bash copy
touch .env
```

Add your API key:

```bash filename=".env" copy
GOOGLE_GENERATIVE_AI_API_KEY=<your-api-key>
```

<Callout type="default">
This guide uses Google Gemini, but you can use any supported [model provider](/models), including OpenAI, Anthropic, and more.
</Callout>

### Add tool

Create a `weather-tool.ts` file:

```bash copy
mkdir -p src/mastra/tools && touch src/mastra/tools/weather-tool.ts
```

Add the following code:

```ts filename="src/mastra/tools/weather-tool.ts" showLineNumbers copy
import { createTool } from "@mastra/core/tools";
import { z } from "zod";

export const weatherTool = createTool({
  id: "get-weather",
  description: "Get current weather for a location",
  inputSchema: z.object({
    location: z.string().describe("City name")
  }),
  outputSchema: z.object({
    output: z.string()
  }),
  execute: async () => {
    return {
      output: "The weather is sunny"
    };
  }
});
```

<Callout type="info">
We've shortened and simplifiedthe `weatherTool` example here. You can see a the complete weather tool under [Giving an Agent a Tool](/examples/agents/using-a-tool).
</Callout>

### Add agent

Create a `weather-agent.ts` file:

```bash copy
mkdir -p src/mastra/agents && touch src/mastra/agents/weather-agent.ts
```

Add the following code:

```ts filename="src/mastra/agents/weather-agent.ts" showLineNumbers copy
import { Agent } from "@mastra/core/agent";
import { weatherTool } from "../tools/weather-tool";

export const weatherAgent = new Agent({
  name: 'Weather Agent',
  instructions: `
      You are a helpful weather assistant that provides accurate weather information.

      Your primary function is to help users get weather details for specific locations. When responding:
      - Always ask for a location if none is provided
      - If the location name isn't in English, please translate it
      - If giving a location with multiple parts (e.g. "New York, NY"), use the most relevant part (e.g. "New York")
      - Include relevant details like humidity, wind conditions, and precipitation
      - Keep responses concise but informative

      Use the weatherTool to fetch current weather data.
`,
  model: "google/gemini-2.5-pro",
  tools: { weatherTool }
});
```

### Register agent

Create the Mastra entry point and register your agent:

```bash copy
touch src/mastra/index.ts
```

Add the following code:

```ts filename="src/mastra/index.ts" showLineNumbers copy
import { Mastra } from "@mastra/core/mastra";
import { weatherAgent } from "./agents/weather-agent";

export const mastra = new Mastra({
  agents: { weatherAgent }
});
```
### Test your agent
You can now launch the [Playground](/docs/server-db/local-dev-playground) and test your agent.

<Tabs items={["npm", "pnpm", "yarn", "bun"]}>
  <Tab>
    ```bash copy
    npm run dev
    ```
  </Tab>
  <Tab>
    ```bash copy
    pnpm run dev
    ```
  </Tab>
  <Tab>
    ```bash copy
    yarn run dev
    ```
  </Tab>
  <Tab>
    ```bash copy
    bun run dev
    ```
  </Tab>
</Tabs>


</Steps>