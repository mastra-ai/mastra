---
title: "è¤‡é›‘ãª LLM å‡¦ç†ã®æ‰±ã„æ–¹ | Workflows | Mastra"
description: "Mastra ã® Workflows ã¯ã€åˆ†å²ã€ä¸¦åˆ—å®Ÿè¡Œã€ãƒªã‚½ãƒ¼ã‚¹ã®ã‚µã‚¹ãƒšãƒ³ãƒ‰ãªã©ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šã€è¤‡é›‘ãªã‚¿ã‚¹ã‚¯ã®æµã‚Œã‚’åŠ¹ç‡çš„ã«ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã§ãã¾ã™ã€‚"
---

import { Steps, Callout, Tabs } from "nextra/components";


# Workflows ã®æ¦‚è¦

Workflows ã‚’ä½¿ã†ã¨ã€å˜ä¸€ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®æ¨è«–ã«é ¼ã‚‹ã®ã§ã¯ãªãã€æ˜ç¢ºã§æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¹ãƒ†ãƒƒãƒ—ã§è¤‡é›‘ãªä¸€é€£ã®ã‚¿ã‚¹ã‚¯ã‚’å®šç¾©ã§ãã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¿ã‚¹ã‚¯ã®åˆ†å‰²æ–¹æ³•ã€ã‚¿ã‚¹ã‚¯é–“ã®ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã€ã„ã¤ä½•ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã‚’å®Œå…¨ã«åˆ¶å¾¡ã§ãã¾ã™ã€‚

![Workflows ã®æ¦‚è¦](/image/workflows/workflows-overview.jpg)

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½¿ã†ã¹ãå ´é¢

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€ã‚ã‚‰ã‹ã˜ã‚æ˜ç¢ºã«å®šç¾©ã•ã‚Œã€ç‰¹å®šã®å®Ÿè¡Œé †åºã§è¤‡æ•°ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¸ã‚€ã‚¿ã‚¹ã‚¯ã«é©ã—ã¦ã„ã¾ã™ã€‚ã‚¹ãƒ†ãƒƒãƒ—é–“ã§ã®ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚„å¤‰æ›ã€å„æ®µéšã§ã©ã®ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‚’å‘¼ã³å‡ºã™ã‹ã‚’ã€ãã‚ç´°ã‹ãåˆ¶å¾¡ã§ãã¾ã™ã€‚

> **ğŸ“¹ è¦–è´**: â†’ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æ¦‚è¦ã¨ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ã®æ¯”è¼ƒ [YouTubeï¼ˆ7åˆ†ï¼‰](https://youtu.be/0jg2g3sNvgw)

## ä¸­æ ¸åŸå‰‡

Mastra ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯æ¬¡ã®åŸå‰‡ã§å‹•ä½œã—ã¾ã™:

- `createStep` ã§**ã‚¹ãƒ†ãƒƒãƒ—**ã‚’å®šç¾©ã—ã€å…¥å‡ºåŠ›ã‚¹ã‚­ãƒ¼ãƒã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’æŒ‡å®šã™ã‚‹ã€‚
- `createWorkflow` ã§**ã‚¹ãƒ†ãƒƒãƒ—**ã‚’çµ„ã¿åˆã‚ã›ã€å®Ÿè¡Œãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ã™ã‚‹ã€‚
- **ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**ã‚’å®Ÿè¡Œã—ã¦å‡¦ç†å…¨ä½“ã‚’å‹•ã‹ã—ã€ä¸€æ™‚åœæ­¢ãƒ»å†é–‹ãƒ»ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°çµæœã‚’æ¨™æº–ã§ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã€‚

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½œæˆã™ã‚‹

ã‚¹ãƒ†ãƒƒãƒ—ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®åŸºæœ¬çš„ãªæ§‹æˆè¦ç´ ã§ã™ã€‚å—ã‘å–ã‚‹ãƒ‡ãƒ¼ã‚¿ã¨è¿”ã™ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã«ã€`inputSchema` ã¨ `outputSchema` ã‚’æŒ‡å®šã—ã¦ `createStep()` ã§ã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½œæˆã—ã¾ã™ã€‚

`execute` é–¢æ•°ã¯ã‚¹ãƒ†ãƒƒãƒ—ãŒè¡Œã†å‡¦ç†ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã‚Œã‚’ä½¿ã£ã¦ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹å†…ã®é–¢æ•°ã€å¤–éƒ¨ APIã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ã‚ã‚‹ã„ã¯ãƒ„ãƒ¼ãƒ«ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚

```typescript {6,9,15} filename="src/mastra/workflows/test-workflow.ts" showLineNumbers copy
import { createStep } from "@mastra/core/workflows";

const step1 = createStep({
  id: "step-1",
  inputSchema: z.object({
    message: z.string()
  }),
  outputSchema: z.object({
    formatted: z.string()
  }),
  execute: async ({ inputData }) => {
    const { message } = inputData;

    return {
      formatted: message.toUpperCase()
    };
  }
});
```

> è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å…¨ä¸€è¦§ã¯ã€[Step ã‚¯ãƒ©ã‚¹](../../reference/workflows/step.mdx)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚


### ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¨ãƒ„ãƒ¼ãƒ«ã®ä½¿ç”¨

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€ç™»éŒ²æ¸ˆã¿ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’å‘¼ã³å‡ºã—ãŸã‚Šã€ãƒ„ãƒ¼ãƒ«ã‚’ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦å®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚è©³ç´°ã¯ [Agents and Tools](./agents-and-tools.mdx) ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆ

`createWorkflow()` ã« `inputSchema` ã¨ `outputSchema` ã‚’æŒ‡å®šã—ã¦ã€å—ã‘æ¸¡ã—ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ä½œæˆã—ã¾ã™ã€‚`.then()` ã§ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¿½åŠ ã—ã€æœ€å¾Œã« `.commit()` ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç¢ºå®šã—ã¾ã™ã€‚

```typescript {9,12,15,16} filename="src/mastra/workflows/test-workflow.ts" showLineNumbers copy
import { createWorkflow, createStep } from "@mastra/core/workflows";
import { z } from "zod";

const step1 = createStep({...});

export const testWorkflow = createWorkflow({
  id: "test-workflow",
  inputSchema: z.object({
    message: z.string()
  }),
  outputSchema: z.object({
    output: z.string()
  })
})
  .then(step1)
  .commit();

```

> è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å…¨ä¸€è¦§ã¯ã€[Workflow Class](../../reference/workflows/workflow.mdx) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚


### åˆ¶å¾¡ãƒ•ãƒ­ãƒ¼ã‚’ç†è§£ã™ã‚‹

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã€ã•ã¾ã–ã¾ãªæ–¹æ³•ã§æ§‹æˆã§ãã¾ã™ã€‚ã©ã®æ–¹æ³•ã‚’é¸ã¶ã‹ã«ã‚ˆã£ã¦ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¹ã‚­ãƒ¼ãƒã®æ§‹é€ ãŒå¤‰ã‚ã‚Šã¾ã™ã€‚è©³ã—ãã¯ [Control Flow](./control-flow.mdx) ãƒšãƒ¼ã‚¸ã‚’ã”è¦§ãã ã•ã„ã€‚

#### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ã‚¹ãƒ†ãƒƒãƒ—æ§‹æˆ

`.then()` ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ã‚¹ãƒ†ãƒƒãƒ—ã¯é †ç•ªã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚å„ã‚¹ãƒ†ãƒƒãƒ—ã® `inputSchema` ã¯ç›´å‰ã®ã‚¹ãƒ†ãƒƒãƒ—ã® `outputSchema` ã¨ä¸€è‡´ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æœ€å¾Œã®ã‚¹ãƒ†ãƒƒãƒ—ã® `outputSchema` ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã® `outputSchema` ã¨ä¸€è‡´ã•ã›ã€ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ã§ã®å‹å®‰å…¨æ€§ã‚’ç¢ºä¿ã—ã¦ãã ã•ã„ã€‚

```typescript {4,7,14,17,24,27} filename="src/mastra/workflows/test-workflow.ts" showLineNumbers copy
const step1 = createStep({
  //...
  inputSchema: z.object({
    message: z.string()
  }),
  outputSchema: z.object({
    formatted: z.string()
  })
});

const step2 = createStep({
  // ...
  inputSchema: z.object({
    formatted: z.string()
  }),
  outputSchema: z.object({
    emphasized: z.string()
  })
});

export const testWorkflow = createWorkflow({
  // ...
  inputSchema: z.object({
    message: z.string()
  }),
  outputSchema: z.object({
    emphasized: z.string()
  })
})
  .then(step1)
  .then(step2)
  .commit();
```


### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ç™»éŒ²

Mastra ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ç™»éŒ²ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã§åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ç™»éŒ²å¾Œã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ãƒ„ãƒ¼ãƒ«ã‹ã‚‰å‘¼ã³å‡ºã›ã‚‹ã‚ˆã†ã«ãªã‚Šã€ãƒ­ã‚°ã‚„ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ“ãƒªãƒ†ã‚£æ©Ÿèƒ½ãªã©ã®å…±æœ‰ãƒªã‚½ãƒ¼ã‚¹ã«ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚

```typescript {6} filename="src/mastra/index.ts" showLineNumbers copy
import { Mastra } from "@mastra/core/mastra";
import { testWorkflow } from "./workflows/test-workflow";

export const mastra = new Mastra({
  // ...
  workflows: { testWorkflow },
});
```


## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å‚ç…§

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ãƒ„ãƒ¼ãƒ«ã€Mastra Clientã€ã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰å®Ÿè¡Œã§ãã¾ã™ã€‚ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«å¿œã˜ã¦ã€`mastra` ã¾ãŸã¯ `mastraClient` ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ `.getWorkflow()` ã‚’å‘¼ã³å‡ºã—ã¦å‚ç…§ã‚’å–å¾—ã—ã¾ã™ã€‚

```typescript showLineNumbers copy
const testWorkflow = mastra.getWorkflow("testWorkflow");
```

<Callout type="info">
  <p>
    `mastra.getWorkflow()` ã®ä½¿ç”¨ãŒã€ç›´æ¥ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚ˆã‚Šã‚‚æ¨å¥¨ã•ã‚Œã¾ã™ã€‚Mastra ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®è¨­å®šï¼ˆloggerã€telemetryã€storageã€ç™»éŒ²æ¸ˆã¿ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ãƒ™ã‚¯ã‚¿ãƒ¼ã‚¹ãƒˆã‚¢ï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãŸã‚ã§ã™ã€‚
  </p>
</Callout>

> è©³ç´°ã¯ [Running Workflows](../../examples/workflows/running-workflows.mdx) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚


## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡Œ

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯2ã¤ã®ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œã§ãã¾ã™ã€‚start ã¯ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå®Œäº†ã™ã‚‹ã¾ã§å¾…ã£ã¦ã‹ã‚‰çµæœã‚’è¿”ã—ã€stream ã¯å®Ÿè¡Œä¸­ã«ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºè¡Œã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«åˆã‚ã›ã¦é¸æŠã—ã¦ãã ã•ã„ã€‚æœ€çµ‚çµæœã ã‘ãŒå¿…è¦ãªå ´åˆã¯ startã€é€²æ—ã®ç›£è¦–ã‚„å„ã‚¹ãƒ†ãƒƒãƒ—å®Œäº†æ™‚ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ãŸã„å ´åˆã¯ stream ã‚’ä½¿ã„ã¾ã™ã€‚

<Tabs items={["Start", "Stream"]}>
  <Tabs.Tab>
`createRunAsync()` ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡Œã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã® `inputSchema` ã«é©åˆã™ã‚‹ `inputData` ã‚’æŒ‡å®šã—ã¦ `.start()` ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã™ã¹ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å®Ÿè¡Œã—ã€æœ€çµ‚çµæœã‚’è¿”ã—ã¾ã™ã€‚

```typescript showLineNumbers copy
const run = await testWorkflow.createRunAsync();

const result = await run.start({
  inputData: {
    message: "Hello world"
  }
});

console.log(result);
```
  </Tabs.Tab>
  <Tabs.Tab>
`.createRunAsync()` ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡Œã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã® `inputSchema` ã«é©åˆã™ã‚‹ `inputData` ã‚’æŒ‡å®šã—ã¦ `.stream()` ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯å„ã‚¹ãƒ†ãƒƒãƒ—ã®å®Ÿè¡Œã«ä¼´ã„ã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºè¡Œã—ã€ãã‚Œã‚’åå¾©å‡¦ç†ã—ã¦é€²æ—ã‚’è¿½è·¡ã§ãã¾ã™ã€‚

```typescript showLineNumbers copy
const run = await testWorkflow.createRunAsync();

const result = await run.stream({
  inputData: {
    message: "Hello world"
  }
});

for await (const chunk of result.stream) {
  console.log(chunk);
}
```
  </Tabs.Tab>
</Tabs>

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å‡ºåŠ›

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å‡ºåŠ›ã«ã¯ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã®å…¥åŠ›ã¨å‡ºåŠ›ã‚’ç¤ºã™å®Ÿè¡Œãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å…¨ä½“ãŒå«ã¾ã‚Œã¾ã™ã€‚å„ã‚¹ãƒ†ãƒƒãƒ—ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å…¨ä½“ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€æœ€çµ‚çš„ãªçµæœã‚‚å«ã¾ã‚Œã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ‡ãƒ¼ã‚¿ãŒãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å†…ã‚’ã©ã®ã‚ˆã†ã«æµã‚ŒãŸã‹ã€å„ã‚¹ãƒ†ãƒƒãƒ—ãŒä½•ã‚’ç”Ÿæˆã—ãŸã‹ã€ãã—ã¦ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒã©ã®ã‚ˆã†ã«å®Œäº†ã—ãŸã‹ã‚’æ˜ç¢ºã«æŠŠæ¡ã§ãã¾ã™ã€‚

```json
{
  "status": "success",
  "steps": {
    // ...
    "step-1": {
      "status": "success",
      "payload": {
        "message": "ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œ"
      },
      "output": {
        "formatted": "HELLO WORLD"
      },
    },
    "step-2": {
      "status": "success",
      "payload": {
        "formatted": "HELLO WORLD"
      },
      "output": {
        "emphasized": "HELLO WORLD!!!"
      },
    }
  },
  "input": {
    "message": "ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œ"
  },
  "result": {
    "emphasized": "HELLO WORLD!!!"
  }
}
```


## `RuntimeContext` ã®ä½¿ç”¨

[RuntimeContext](../server-db/runtime-context.mdx) ã‚’ä½¿ã£ã¦ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã”ã¨ã®å€¤ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®æ–‡è„ˆã«å¿œã˜ã¦æŒ™å‹•ã‚’æ¡ä»¶ä»˜ãã§èª¿æ•´ã§ãã¾ã™ã€‚

```typescript filename="src/mastra/workflows/test-workflow.ts" showLineNumbers
export type UserTier = {
  "user-tier": "enterprise" | "pro";
};

const step1 = createStep({
  // ...
  execute: async ({ runtimeContext }) => {
    const userTier = runtimeContext.get("user-tier") as UserTier["user-tier"];

    const maxResults = userTier === "enterprise"
      ? 1000
      : 50;

    return { maxResults };
  }
});
```

> è©³ç´°ã¯ [Runtime Context](../server-db/runtime-context.mdx) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚


## Mastra Playground ã§ã®ãƒ†ã‚¹ãƒˆ

Mastra ã®[Playground](../server-db/local-dev-playground.mdx)ã‚’ä½¿ã†ã¨ã€ã•ã¾ã–ã¾ãªå…¥åŠ›ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ‰‹è»½ã«å®Ÿè¡Œã—ã€å®Ÿè¡Œãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’å¯è¦–åŒ–ã—ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã®å…¥å‡ºåŠ›ã‚’ç¢ºèªã—ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å„è¦ç´ ã‚’ã‚ˆã‚Šè©³ã—ãæ¤œè¨¼ã§ãã¾ã™ã€‚

## é–¢é€£

ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è©³ç´°ã¯ã€å®Ÿè·µçš„ãªä¾‹ã‚’é€šã˜ã¦ä¸­æ ¸æ¦‚å¿µã‚’è§£èª¬ã™ã‚‹[Workflow Guide](../../guides/guide/ai-recruiter.mdx)ã‚’ã”è¦§ãã ã•ã„ã€‚

- [Parallel Steps ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¾‹](../../examples/workflows/parallel-steps.mdx)
- [Conditional Branching ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¾‹](../../examples/workflows/conditional-branching.mdx)
- [Inngest ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¾‹](../../examples/workflows/inngest-workflow.mdx)
- [Suspend and Resume ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä¾‹](../../examples/workflows/human-in-the-loop.mdx)

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆãƒ¬ã‚¬ã‚·ãƒ¼ï¼‰

ãƒ¬ã‚¬ã‚·ãƒ¼ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«é–¢ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€[Workflows (Legacy)](../workflows-legacy/overview.mdx) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚