---
title: "Netlify Deployer"
description: "Mastra NetlifyDeployer を使って Mastra アプリケーションを Netlify にデプロイする方法を学ぶ"
---

import { FileTree } from "nextra/components";


# NetlifyDeployer

`NetlifyDeployer` クラスは、スタンドアロンの Mastra アプリケーションを Netlify にデプロイする役割を担います。設定やデプロイの管理を行い、Netlify 固有の機能を追加して基本の [Deployer](/reference/deployer/deployer) クラスを拡張します。

## インストール

```bash copy
npm install @mastra/deployer-netlify@latest
```


## 使い方の例

```typescript filename="src/mastra/index.ts" showLineNumbers copy
import { Mastra } from "@mastra/core/mastra";
import { NetlifyDeployer } from "@mastra/deployer-netlify";

export const mastra = new Mastra({
  // ...
  deployer: new NetlifyDeployer()
});
```

> 利用可能な設定オプションの一覧は、[NetlifyDeployer](/reference/deployer/netlify) の API リファレンスをご覧ください。


## 継続的インテグレーション

Mastra プロジェクトの Git リポジトリを Netlify に接続したら、プロジェクト設定を更新します。Netlify ダッシュボードで **Project configuration** > **Build & deploy** > **Continuous deployment** に移動し、**Build settings** で次のように設定します：

- **Build command**: `npm run build`（任意）

### 環境変数

初回のデプロイ前に、アプリケーションで使用する環境変数を追加してください。たとえば、LLM に OpenAI を使っている場合は、Netlify のプロジェクト設定で `OPENAI_API_KEY` を設定する必要があります。

> 詳細は [Environment variables overview](https://docs.netlify.com/environment-variables/overview/) を参照してください。

これで、GitHub リポジトリの指定ブランチにプッシュするたびに自動デプロイが実行されるようにプロジェクトが設定されました。

## 手動デプロイ

[Netlify CLI](https://docs.netlify.com/cli/get-started/) を使用して手動でデプロイすることも可能です。Netlify CLI をインストールしたら、プロジェクトのルートで次のコマンドを実行してアプリケーションをデプロイしてください。

```bash copy
netlify deploy --prod
```

> プロジェクトのルートで `netlify dev` を実行すると、Mastra アプリをローカルでテストすることもできます。


## ビルド出力

`NetlifyDeployer` を使用する Mastra アプリケーションのビルド出力には、Netlify 上でアプリケーションを実行するために必要な Mastra 固有のファイルに加え、プロジェクト内のすべてのエージェント、ツール、ワークフローが含まれます。

<FileTree>
  <FileTree.Folder name=".netlify" defaultOpen>
    <FileTree.Folder name="v1" defaultOpen>
      <FileTree.Folder name="functions" defaultOpen>
        <FileTree.Folder name="api" defaultOpen>
          <FileTree.File name="index.mjs" />
        </FileTree.Folder>
      </FileTree.Folder>

      <FileTree.File name="config.json" />
    </FileTree.Folder>
  </FileTree.Folder>

  <FileTree.File name="package.json" />
</FileTree>

`NetlifyDeployer` は、以下の設定を含む `config.json` 設定ファイルを `.netlify/v1` に自動生成します：

```json
{
  "redirects": [
    {
      "force": true,
      "from": "/*",
      "to": "/.netlify/functions/api/:splat",
      "status": 200
    }
  ]
}
```


## 次のステップ

- [Mastra クライアント SDK](/docs/client-js/overview)