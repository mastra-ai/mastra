---
title: "テンプレート リファレンス"
description: "Mastra テンプレートの作成・利用・貢献のための完全ガイド"
---

import { FileTree, Tabs, Callout } from 'nextra/components'


## 概要

このリファレンスでは、Mastra のテンプレートについて、既存テンプレートの使い方、自作方法、コミュニティへの貢献方法まで包括的に解説します。

Mastra のテンプレートは、特定のユースケースやパターンを示す、あらかじめ用意されたプロジェクト構成です。次のような利点があります:

- **動作サンプル** - 完全に動く Mastra アプリケーション
- **ベストプラクティス** - 適切なプロジェクト構成とコーディング規約
- **学習リソース** - 実例を通じて Mastra のパターンを学べる
- **クイックスタート** - ゼロから作るより素早くプロジェクトを立ち上げられる

## テンプレートを使う

### インストール

`create-mastra` コマンドでテンプレートをインストールします:

```bash copy
npx create-mastra@latest --template <テンプレート名>
```

これにより、必要なコードと設定がすべて含まれた完全なプロジェクトが作成されます。


### セットアップ手順

インストール後:

1. **プロジェクトディレクトリへ移動**:

   ```bash copy
   cd your-project-name
   ```

2. **環境変数を設定**:

   ```bash copy
   cp .env.example .env
   ```

   テンプレートの README に従い、必要な API キーで `.env` を編集してください。

3. **依存関係をインストール**（自動で行われなかった場合）:

   ```bash copy
   npm install
   ```

4. **開発用サーバーを起動**:

   ```bash copy
   npm run dev
   ```

### テンプレート構成

すべてのテンプレートは、次の標準化された構成に従います。

<FileTree>
  <FileTree.Folder name="template-name" defaultOpen>
    <FileTree.Folder name="src" defaultOpen>
      <FileTree.Folder name="mastra" defaultOpen>
        <FileTree.Folder name="agents">
          <FileTree.File name="example-agent.ts" />
        </FileTree.Folder>
        <FileTree.Folder name="tools">
          <FileTree.File name="example-tool.ts" />
        </FileTree.Folder>
        <FileTree.Folder name="workflows">
          <FileTree.File name="example-workflow.ts" />
        </FileTree.Folder>
        <FileTree.File name="index.ts" />
      </FileTree.Folder>
    </FileTree.Folder>
    <FileTree.File name=".env.example" />
    <FileTree.File name="package.json" />
    <FileTree.File name="README.md" />
    <FileTree.File name="tsconfig.json" />
  </FileTree.Folder>
</FileTree>

## テンプレートの作成

### 要件

テンプレートは次の技術要件を満たす必要があります：

#### プロジェクト構成

- **Mastra のコード配置**: すべての Mastra のコードは `src/mastra/` ディレクトリ内に配置してください
- **コンポーネントの構成**:
  - Agents: `src/mastra/agents/`
  - Tools: `src/mastra/tools/`
  - Workflows: `src/mastra/workflows/`
  - メイン設定: `src/mastra/index.ts`

#### TypeScript の設定

Mastra 標準の TypeScript 設定を使用してください:

```json filename="tsconfig.json"
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ES2022",
    "moduleResolution": "bundler",
    "esModuleInterop": true,
    "forceConsistentCasingInFileNames": true,
    "strict": true,
    "skipLibCheck": true,
    "noEmit": true,
    "outDir": "dist"
  },
  "include": ["src/**/*"]
}
```


#### 環境設定

必須の環境変数をすべて含む `.env.example` ファイルを用意してください：

```bash filename=".env.example"
# LLM プロバイダーの API キー（いずれかを選択、複数可）
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here
GOOGLE_GENERATIVE_AI_API_KEY=your_google_api_key_here

# 必要に応じてその他サービスの API キー
OTHER_SERVICE_API_KEY=your_api_key_here
```


### コーディング規約

#### LLM プロバイダー

テンプレートには OpenAI、Anthropic、または Google のモデルプロバイダーの利用を推奨します。用途に最も適したプロバイダーを選択してください。

```typescript filename="src/mastra/agents/example-agent.ts"
import { Agent } from '@mastra/core/agent';
import { openai } from '@ai-sdk/openai';
// または次を使用: import { anthropic } from '@ai-sdk/anthropic';
// または次を使用: import { google } from '@ai-sdk/google';

const agent = new Agent({
  name: 'example-agent',
  model: openai('gpt-4'), // or anthropic('') or google('')
  instructions: 'ここにエージェントへの指示を入力',
  // ... その他の設定
});
```


#### 互換性要件

テンプレートは次の条件を満たす必要があります:

- **単体プロジェクト** - 複数アプリを含むモノレポではないこと
- **フレームワーク非依存** - Next.js、Express などの Web フレームワークのボイラープレートは不要
- **Mastra 重視** - 余計なレイヤーを加えずに Mastra の機能を示すこと
- **マージ可能** - 既存プロジェクトに容易に統合できるようコードを構成すること
- **Node.js 互換** - Node.js 18 以上をサポート
- **ESM モジュール** - ES モジュールを使用（package.json の `"type": "module"`）

### ドキュメントの要件

#### READMEの構成

すべてのテンプレートには、充実したREADMEを必ず含めてください。

```markdown filename="README.md"
# テンプレート名

このテンプレートが示す内容の簡潔な説明。

## 概要

テンプレートの機能と想定される用途の詳細な説明。

## セットアップ

1. `.env.example` を `.env` にコピーし、API キーを入力する
2. 依存関係をインストール: `npm install`
3. プロジェクトを起動: `npm run dev`

## 環境変数

- `OPENAI_API_KEY`: OpenAI の API キー。[OpenAI Platform](https://platform.openai.com/api-keys) で取得
- `ANTHROPIC_API_KEY`: Anthropic の API キー。[Anthropic Console](https://console.anthropic.com/settings/keys) で取得
- `GOOGLE_GENERATIVE_AI_API_KEY`: Google AI の API キー。[Google AI Studio](https://makersuite.google.com/app/apikey) で取得
- `OTHER_API_KEY`: このキーの用途の説明

## 使い方

テンプレートの使い方と想定される動作例。

## カスタマイズ

さまざまなユースケース向けにテンプレートを調整する際のガイドライン。
```


#### コードコメント

次の点を分かりやすく説明するコメントを含めてください:

- 複雑なロジックやアルゴリズム
- API 連携の内容と目的
- 設定オプションとその効果
- 具体的な使用パターンの例

### 品質基準

テンプレートは以下を満たす必要があります:

- **コード品質** - クリーンで、適切にコメントされ、保守しやすいコード
- **エラー処理** - 外部 API やユーザー入力に対する適切なハンドリング
- **型安全性** - Zod による検証を含む完全な TypeScript 型付け
- **テスト** - クリーンインストールで機能が検証されていること

Mastra エコシステムに独自のテンプレートを投稿する方法は、コミュニティセクションの [Contributing Templates](/docs/community/contributing-templates) ガイドをご覧ください。

<Callout type="info">
  テンプレートは、Mastra のパターンを学び、開発を加速するための優れた手段です。テンプレートへの貢献は、コミュニティ全体によるより良い AI アプリケーションの構築に役立ちます。
</Callout>