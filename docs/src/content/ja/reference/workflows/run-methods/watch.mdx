---
title: "リファレンス: Run.watch() | Workflows | Mastra ドキュメント"
description: ワークフロー内の `Run.watch()` メソッドに関するドキュメント。ワークフロー実行を監視できます。
---

# Run.watch()

`.watch()` メソッドは、ワークフロー実行の進行状況を監視し、各ステップのステータスをリアルタイムで更新します。

## 使い方の例

```typescript showLineNumbers copy
const run = await workflow.createRunAsync();

run.watch((event) => {
  console.log(event?.payload?.currentStep?.id);
});

const result = await run.start({ inputData: { value: "初期データ" } });
```


## パラメータ

<PropertiesTable
  content={[
    {
      name: "callback",
      type: "(event: WatchEvent) => void",
      description: "ステップの完了時またはワークフローの状態変更時に呼び出されるコールバック関数。event パラメータには、type（'watch'）、payload（currentStep と workflowState）、eventTimestamp が含まれます。",
      isOptional: false,
    },
    {
      name: "type",
      type: "'watch' | 'watch-v2'",
      description: "リッスンするウォッチイベントの種類。ステップ完了イベントには 'watch'、データストリームイベントには 'watch-v2' を指定します。",
      isOptional: true,
      defaultValue: "'watch'",
    },
  ]}
/>

## 戻り値

<PropertiesTable
  content={[
    {
      name: "unwatch",
      type: "() => void",
      description:
        "ワークフロー実行の監視を停止するために呼び出せる関数",
    },
  ]}
/>

## 発展的な使用例

```typescript showLineNumbers copy
const run = await workflow.createRunAsync();

run.watch((event) => {
  console.log(event?.payload?.currentStep?.id);
}, "watch");

const result = await run.start({ inputData: { value: "初期データ" } });
```


## 関連項目

## 関連項目

- [Workflows の概要](../../../docs/workflows/overview.mdx#run-workflow)
- [Workflow.createRunAsync()](../create-run.mdx)
- [Workflow の監視](../../../docs/workflows/overview.mdx#watch-workflow)