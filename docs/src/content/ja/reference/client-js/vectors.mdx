---
title: Mastra クライアント Vectors API
description: client-js SDK を使って、Mastra でセマンティック検索や類似度マッチングに用いるベクトル埋め込みの扱い方を学びます。
---

# Vectors API

Vectors API は、Mastra におけるセマンティック検索や類似度マッチングのためのベクトル埋め込みを扱うためのメソッドを提供します。

## ベクトルの扱い方

ベクトルストアのインスタンスを取得します:

```typescript
const vector = mastraClient.getVector("vector-name");
```


## ベクトルメソッド

### ベクターインデックスの詳細を取得

特定のベクターインデックスの情報を取得します。

```typescript
const details = await vector.details("index-name");
```


### ベクターインデックスの作成

新しいベクターインデックスを作成します。

```typescript
const result = await vector.createIndex({
  indexName: "new-index",
  dimension: 128,
  metric: "cosine", // 「cosine」、「euclidean」、または「dotproduct」
});
```


### ベクトルのアップサート

インデックスにベクトルを追加または更新します：

```typescript
const ids = await vector.upsert({
  indexName: "my-index",
  vectors: [
    [0.1, 0.2, 0.3], // 1つ目のベクトル
    [0.4, 0.5, 0.6], // 2つ目のベクトル
  ],
  metadata: [{ label: "first" }, { label: "second" }],
  ids: ["id1", "id2"], // 任意: カスタムID
});
```


### クエリベクトル

類似するベクトルを検索:

```typescript
const results = await vector.query({
  indexName: "my-index",
  queryVector: [0.1, 0.2, 0.3],
  topK: 10,
  filter: { label: "first" }, // 省略可: メタデータのフィルタ
  includeVector: true, // 省略可: 結果にベクトルを含める
});
```


### すべてのインデックスを取得

利用可能なインデックスをすべて一覧表示します：

```typescript
const indexes = await vector.getIndexes();
```


### インデックスの削除

ベクターインデックスを削除するには:

```typescript
const result = await vector.delete("index-name");
```
