---
title: "参考文档：voice.addInstructions() | 语音"
description: "语音提供者提供的 addInstructions() 方法文档，用于添加指导语音模型行为的指令。"
packages:
  - "@mastra/core"
  - "@mastra/voice-openai-realtime"
---

# voice.addInstructions()

`addInstructions()` 方法为语音提供者提供指导模型在实时交互中行为的指令。这对于维护对话上下文的实时语音提供者特别有用。

## 使用示例

```typescript
import { OpenAIRealtimeVoice } from "@mastra/voice-openai-realtime";
import { Agent } from "@mastra/core/agent";

// 初始化实时语音提供者
const voice = new OpenAIRealtimeVoice({
  realtimeConfig: {
    model: "gpt-5.1-realtime",
    apiKey: process.env.OPENAI_API_KEY,
  },
});

// 创建带有语音提供者的智能体
const agent = new Agent({
  name: "Customer Support Agent",
  instructions:
    "You are a helpful customer support agent for a software company.",
  model: "openai/gpt-5.1",
  voice,
});

// 向语音提供者添加额外指令
voice.addInstructions(`
  与客户交流时：
  - 始终自我介绍为客户支持智能体
  - 说话清晰简洁
  - 需要时提出澄清问题
  - 在对话结束时总结
`);

// 连接到实时服务
await voice.connect();
```

## 参数

<br />
<PropertiesTable
  content={[
    {
      name: "instructions",
      type: "string",
      description: "指导语音模型行为的指令",
      isOptional: false,
    },
  ]}
/>

## 返回值

此方法不返回值。

## 注意事项

- 指令在清晰、具体且与语音交互相关时最有效
- 此方法主要用于维护对话上下文的实时语音提供者
- 如果在不支持指令的语音提供者上调用，它会记录警告并什么都不做
- 使用此方法添加的指令通常与关联智能体提供的指令合并
- 为获得最佳效果，请在开始对话之前添加指令（在调用 `connect()` 之前）
- 多次调用 `addInstructions()` 可能会替换或追加现有指令，具体取决于提供者实现
