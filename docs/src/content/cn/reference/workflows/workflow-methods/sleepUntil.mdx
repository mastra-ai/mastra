---
title: "参考：Workflow.sleepUntil() | 工作流"
description: "工作流中 `Workflow.sleepUntil()` 方法的文档，用于暂停执行直到指定日期。"
packages:
  - "@mastra/core"
---

# Workflow.sleepUntil()

`.sleepUntil()` 方法暂停执行直到指定日期。

## 使用示例

```typescript
workflow.sleepUntil(new Date(Date.now() + 5000));
```

## 参数

<PropertiesTable
  content={[
    {
      name: "dateOrCallback",
      type: "Date | ((params: ExecuteFunctionParams) => Promise<Date>)",
      description:
        "Date 对象或返回 Date 的回调函数。回调函数接收执行上下文，可以根据输入数据动态计算目标时间。",
      isOptional: false,
    },
  ]}
/>

## 返回值

<PropertiesTable
  content={[
    {
      name: "workflow",
      type: "Workflow",
      description: "用于方法链的工作流实例",
    },
  ]}
/>

## 扩展使用示例

```typescript
import { createWorkflow, createStep } from "@mastra/core/workflows";

const step1 = createStep({...});
const step2 = createStep({...});

export const testWorkflow = createWorkflow({...})
  .then(step1)
  .sleepUntil(async ({ inputData }) => {
    const { delayInMs } = inputData;
    return new Date(Date.now() + delayInMs);
  })
  .then(step2)
  .commit();
```
