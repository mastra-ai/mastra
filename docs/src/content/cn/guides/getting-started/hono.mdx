---
title: "Hono | æ¡†æ¶"
description: "å¼€å§‹ä½¿ç”¨ Mastra å’Œ Hono"
---

# åœ¨æ‚¨çš„ Hono é¡¹ç›®ä¸­é›†æˆ Mastra

åœ¨æœ¬æŒ‡å—ä¸­ï¼Œæ‚¨å°†ä½¿ç”¨ Mastra å’Œ Hono æ„å»ºä¸€ä¸ªå·¥å…·è°ƒç”¨å‹ AI ä»£ç†ã€‚ä½¿ç”¨ [Hono æœåŠ¡å™¨é€‚é…å™¨](/reference/server/hono-adapter)ï¼Œæ‚¨å¯ä»¥å°†ä»£ç†å…¬å¼€ä¸º HTTP ç«¯ç‚¹ï¼Œè€Œæ— éœ€è‡ªè¡Œç¼–å†™è·¯ç”±æˆ–è¿è¡Œç‹¬ç«‹çš„ Mastra æœåŠ¡å™¨ã€‚

## å‰ç½®æ¡ä»¶

- æ‚¨éœ€è¦ä¸€ä¸ªæ”¯æŒçš„[æ¨¡å‹æä¾›å•†](/models)çš„ API keyã€‚å¦‚æœæ‚¨æ²¡æœ‰åå¥½ï¼Œè¯·ä½¿ç”¨ [OpenAI](/models/providers/openai)ã€‚
- å®‰è£… Node.js `v22.13.0` æˆ–æ›´é«˜ç‰ˆæœ¬

## åˆ›å»ºæ–°çš„ Hono åº”ç”¨ç¨‹åºï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨å·²ç»æœ‰ä¸€ä¸ª Hono åº”ç”¨ç¨‹åºï¼Œè¯·è·³åˆ°ä¸‹ä¸€æ­¥ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤[åˆ›å»ºæ–°çš„ Hono åº”ç”¨ç¨‹åº](https://hono.dev/docs/cn/docs/getting-started/basic)ï¼š

```bash npm2yarn
npm create hono@latest mastra-hono -- --template nodejs --install --pm npm
```

è¿™ä¼šåˆ›å»ºä¸€ä¸ªåä¸º `mastra-hono` çš„é¡¹ç›®ï¼Œä½†æ‚¨å¯ä»¥å°†å…¶æ›¿æ¢ä¸ºä»»ä½•æ‚¨æƒ³è¦çš„åç§°ã€‚

## åˆå§‹åŒ– Mastra

å¯¼èˆªåˆ°æ‚¨çš„ Hono é¡¹ç›®ç›®å½•ï¼š

```bash
cd mastra-hono
```

è¿è¡Œ [`mastra init`](/reference/cli/mastra#mastra-init)ã€‚å½“æç¤ºæ—¶ï¼Œé€‰æ‹©ä¸€ä¸ªæä¾›å•†ï¼ˆä¾‹å¦‚ OpenAIï¼‰å¹¶è¾“å…¥æ‚¨çš„ keyï¼š

```bash npm2yarn
npx mastra@latest init
```

è¿™ä¼šåˆ›å»ºä¸€ä¸ª `src/mastra` æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªç¤ºä¾‹å¤©æ°”ä»£ç†ä»¥åŠä»¥ä¸‹æ–‡ä»¶ï¼š

- `index.ts` - Mastra é…ç½®ï¼ŒåŒ…æ‹¬å†…å­˜
- `tools/weather-tool.ts` - ç”¨äºè·å–ç»™å®šä½ç½®å¤©æ°”çš„å·¥å…·
- `agents/weather-agent.ts` - ä¸€ä¸ªå¸¦æœ‰ä½¿ç”¨å·¥å…·æç¤ºè¯çš„å¤©æ°”ä»£ç†

ç¨åæ‚¨ä¼šå°† `src/mastra/index.ts` æ–‡ä»¶ä¼ é€’ç»™ Hono æœåŠ¡å™¨é€‚é…å™¨ã€‚

## æ·»åŠ æœåŠ¡å™¨é€‚é…å™¨

å®‰è£… Hono æœåŠ¡å™¨é€‚é…å™¨åŒ…ï¼š

```bash npm2yarn
npm install @mastra/hono@latest
```

æ‰“å¼€ Hono å…¥å£æ–‡ä»¶ `src/index.ts`ï¼Œæ·»åŠ æ‰€éœ€çš„å¯¼å…¥å’Œåˆå§‹åŒ–ä»£ç ï¼š

```typescript title="src/index.ts" {3-8,10-11,13}
import { serve } from '@hono/node-server'
import { Hono } from 'hono'
import {
  type HonoBindings,
  type HonoVariables,
  MastraServer
} from '@mastra/hono';
import { mastra } from './mastra/index.js';

const app = new Hono<{ Bindings: HonoBindings; Variables: HonoVariables }>();
const server = new MastraServer({ app, mastra });

await server.init();

app.get('/', (c) => {
  return c.text('Hello Hono!')
})

serve({
  fetch: app.fetch,
  port: 3000
}, (info) => {
  console.log(`Server is running on http://localhost:${info.port}`)
})
```

`MastraServer` ä½¿ç”¨ç°æœ‰çš„ Hono `app` å’Œæ ¹ `mastra` å®ä¾‹è¿›è¡Œåˆå§‹åŒ–ã€‚è°ƒç”¨ `init()` ä¼šæ³¨å†Œ Mastra ä¸­é—´ä»¶å¹¶å…¬å¼€æ‰€æœ‰å¯ç”¨çš„ Mastra ç«¯ç‚¹ã€‚

## æµ‹è¯•æ‚¨çš„ä»£ç†

é»˜è®¤æƒ…å†µä¸‹ï¼ŒMastra çš„ç«¯ç‚¹æ·»åŠ åœ¨ `/api` å­è·¯å¾„ä¸‹ï¼Œå¹¶ä½¿ç”¨æ‚¨çš„ä»£ç†/å·¥ä½œæµ IDã€‚ç”± `mastra init` åˆ›å»ºçš„é»˜è®¤ `weather-agent` å¯åœ¨ `/api/agents/weather-agent` è®¿é—®ã€‚

å¯åŠ¨æ‚¨çš„ Hono æœåŠ¡å™¨ï¼š

```bash npm2yarn
npm run dev
```

åœ¨å•ç‹¬çš„ç»ˆç«¯çª—å£ä¸­ï¼Œä½¿ç”¨ `curl` å‘å¤©æ°”ä»£ç†æé—®ï¼š

```bash
curl -X POST http://localhost:3000/api/agents/weather-agent/generate -H "Content-Type: application/json" -d "{\"messages\":[{\"role\":\"user\",\"content\":\"What is the weather like in Seoul?\"}]}"
```

## åç»­æ­¥éª¤

æ­å–œæ‚¨ä½¿ç”¨ Hono æ„å»ºäº† Mastra ä»£ç†ï¼ğŸ‰

ä»è¿™é‡Œå¼€å§‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è‡ªå·±çš„å·¥å…·å’Œé€»è¾‘æ‰©å±•é¡¹ç›®ï¼š

- äº†è§£æ›´å¤šå…³äº[ä»£ç†](/docs/cn/docs/agents/overview)
- ä¸ºæ‚¨çš„ä»£ç†æä¾›è‡ªå·±çš„[å·¥å…·](/docs/cn/docs/agents/using-tools)
- ä¸ºæ‚¨çš„ä»£ç†æ·»åŠ ç±»ä¼¼äººç±»çš„[å†…å­˜](/docs/cn/docs/agents/agent-memory)

å‡†å¤‡å°±ç»ªåï¼Œé˜…è¯»æ›´å¤šå…³äº Mastra å¦‚ä½•ä¸ Hono é›†æˆçš„ä¿¡æ¯ï¼š

- [æœåŠ¡å™¨é€‚é…å™¨](/docs/cn/docs/server/server-adapters)
