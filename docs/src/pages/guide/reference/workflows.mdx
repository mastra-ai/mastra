# Workflows

## Blueprints

Mastra workflows combine a visual editor that modify configuration object that you commit to your repository. Here's the specification for the configuration object:

## Types

````typescript
interface Workflow {
  /** The name of the workflow */
  title: string;
  
  /** The current status of the workflow */
  status: string;  // e.g., "PUBLISHED"
  
  /** Unique identifier */
  id: string;
  
  /** Defines the event that initiates the workflow */
  trigger: WorkflowTrigger;
  
  /** List of actions to be executed */
  actions: WorkflowAction[];
}

interface WorkflowTrigger {
  /** Unique identifier for the trigger */
  id: string;
  
  /** The type of event that triggers the workflow */
  type: string;  // e.g., "BUTTON_CLICKED"
  
  /** Additional data for the trigger */
  payload?: object;
}

interface WorkflowAction {
  /** Unique identifier for the action */
  id: string;
  
  /** The type of action to be performed */
  type: string;  // e.g., "CREATE_POST"
  
  /** Data required for the action */
  payload: object;
  
  /** Variables used in the action */
  variables?: {
    [key: string]: {
      [variableName: string]: {
        refBlockId: string;
        path: string;
      }
    }
  };
  
  /** List of actions to be executed after the main action */
  subActions?: WorkflowAction[];
  
  /** ID of the parent action (for subActions only) */
  parentActionId?: string;
}
````

### Variables Example

Variables can be used to dynamically insert data into actions:

````typescript
const variables = {
  message: {
    twitterlink: {
      refBlockId: "parentActionId",  // ID of the action to reference
      path: "resultFieldName"        // Field in referenced action's result
    }
  }
};
````

