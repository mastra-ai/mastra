# Creating Agents

Agents are systems where the language model chooses a sequence of actions. In Mastra, agents provide LLM models with tools, workflows, and synced data. Agents can call your own functions or APIs of third-party integrations and access knowledge bases you build.

Each agent has a specific model configuration, set of enabled tools, and system instructions.

### Model Configuration
Agents support multiple LLM providers:
- OpenAI (gpt-4, gpt-4-turbo, gpt-3.5-turbo)
- Anthropic (claude-3 variants)
- Groq (llama3 variants)
- Perplexity
- Fireworks

### Tool Integration
Agents can use tools that are:
- Framework tools (built-in system APIs)
- Integration tools (from connected services)
- Vector tools (for RAG operations)
- Workflow tools (from defined workflows)

### Agent Configuration
Here's an example agent configuration:

```typescript filename="src/agents/index.ts"
export const agentOne = new Agent<typeof integrations, typeof tools>({
  name: 'Agent One',
  instructions: 'You know about basketball, specifically the NBA. You are a sports analyst.',
  model: {
    provider: 'ANTHROPIC_VERCEL',
    name: 'claude-3-haiku-20240307',
    toolChoice: 'auto',
  },
  enabledTools: {
    testTool: true,
    gmailGetProfile: true,
    issuesList: true,
  },
});
```

You also need to register your agent with Mastra so that it receives access to tools, the logger, and integrations. 

```typescript filename="src/mastra/index.ts"
import { agentOne } from './agents';

export const mastra = new Mastra<typeof tools>({
  ...restOfConfig,
  agents: [agentOne],
});
```

## Usage

Agents can be used in two modes:
1. [Text generation](https://mastra.ai/docs/reference/agents/text) (`agent.text()`)
2. [Streaming responses](https://mastra.ai/docs/reference/agents/stream) (`agent.stream()`)

Both modes support:
- Multiple message history
- Tool execution
- Rate limit handling
- Step-by-step execution tracking

