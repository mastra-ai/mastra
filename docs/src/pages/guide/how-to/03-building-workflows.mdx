# Workflows in Mastra

Workflows are graph-based state machines that can execute complex sequences of operations. They provide a structured way to handle multi-step processes, parallel operations, and human interactions.

When you use workflows with cloud observability providers, you can see the inputs and outputs of each step.

## Core Concepts

Workflows are defined as blueprints in a dedicated directory. The directory path is configured in your Mastra config file.

### Use Cases

Here's an example of a workflow that crawls a website, uses an LLM to structure the data, and then analyzes the sentiment of the content.

```typescript filename="src/blueprints/index.ts"
const workflow = new Workflow()

const crawl = workflow.addStep('Crawl', {
  condition: {},
  action: async ({ tools, data }) => {
    const result = await tools.crawlWebpage({ url: data.url });
    return result;
  }
})

const persist = workflow.addStep('Structure', {
  action: async ({ tools, data }) => {
    const result = await tools.structureReviews({ rawText: data.rawText });
    return result;
  }
  condition: {}
})

const Index = workflow.addStep('Analyze', {
  action: async ({ tools, data }) => {
    const result = await tools.analyzeSentiment({ reviews: data.reviews });
    return result;
  },
  condition: {}
});

export const workflow;
```

You can then register the workflow with Mastra.

```typescript filename="src/mastra/index.ts"
import { workflow } from './blueprints';

export const mastra = new Mastra({
  ...restOfConfig,
  workflows: [workflow],
});
```
