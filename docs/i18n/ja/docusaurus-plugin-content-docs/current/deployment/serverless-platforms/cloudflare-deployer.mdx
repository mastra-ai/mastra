---
title: "CloudflareDeployer | デプロイ | Mastra ドキュメント"
description: "Mastra CloudflareDeployer を使って Mastra アプリを Cloudflare にデプロイする方法を解説します"
---

<div id="cloudflaredeployer">
  # CloudflareDeployer
</div>

`CloudflareDeployer` クラスは、スタンドアロンの Mastra アプリケーションを Cloudflare Workers にデプロイします。構成やデプロイの管理を行い、Cloudflare 固有の機能によってベースの [Deployer](/reference/deployer/) クラスを拡張します。

<div id="installation">
  ## インストール
</div>

```bash copy
npm install @mastra/deployer-cloudflare@latest
```


<div id="usage-example">
  ## 使い方の例
</div>

```typescript title="src/mastra/index.ts" showLineNumbers copy
import { Mastra } from "@mastra/core/mastra";
import { CloudflareDeployer } from "@mastra/deployer-cloudflare";

export const mastra = new Mastra({
  // ...
  deployer: new CloudflareDeployer({
    projectName: "hello-mastra",
    env: {
      NODE_ENV: "production",
    },
  }),
});
```

> 利用可能なすべての構成オプションについては、[CloudflareDeployer](/reference/deployer/cloudflare) の API リファレンスを参照してください。


<div id="manual-deployment">
  ## 手動デプロイ
</div>

[Cloudflare Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/install-and-update/) を使えば、手動デプロイも可能です。Wrangler CLI をインストールしたら、プロジェクトのルートディレクトリで以下を実行してアプリケーションをデプロイします。

Wrangler CLI をインストールしたら、Cloudflare アカウントでログインして認証します:

```bash copy
npx wrangler login
```

次を実行して、アプリケーションをビルドして Cloudflare にデプロイします

```bash copy
npm run build && wrangler deploy --config .mastra/output/wrangler.json
```

> プロジェクトのルートで `wrangler dev --config .mastra/output/wrangler.json` を実行すると、Mastra アプリをローカルでテストすることもできます。


<div id="build-output">
  ## ビルド出力
</div>

`CloudflareDeployer` を使用する Mastra アプリケーションのビルド出力には、プロジェクト内のすべてのエージェント、ツール、ワークフローに加え、Cloudflare 上でアプリケーションを実行するために必要な Mastra 固有のファイルが含まれます。

```
.mastra/
└── output/
    ├── index.mjs
    └── wrangler.json
package.json
```

`CloudflareDeployer` は、以下の設定を備えた `wrangler.json` の構成ファイルを `.mastra/output` に自動生成します：

```json
{
  "name": "hello-mastra",
  "main": "./index.mjs",
  "compatibility_date": "2025-04-01",
  "compatibility_flags": [
    "nodejs_compat",
    "nodejs_compat_populate_process_env"
  ],
  "observability": { "logs": { "enabled": true } },
  "vars": {
    "OPENAI_API_KEY": "...",
    "CLOUDFLARE_API_TOKEN": "..."
  }
}
```


<div id="next-steps">
  ## 次のステップ
</div>

- [Mastra クライアント SDK](/reference/client-js/mastra-client)