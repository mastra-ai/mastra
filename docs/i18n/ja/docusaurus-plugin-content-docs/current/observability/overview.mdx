---
title: "オブザーバビリティ概要 | オブザーバビリティ | Mastra ドキュメント"
description: Mastra のオブザーバビリティ機能でアプリケーションを監視・デバッグします。
---

<div id="observability-overview">
  # オブザーバビリティ概要
</div>

Mastraは、AIアプリケーションに特化した包括的なオブザーバビリティ機能を提供します。LLMの動作を監視し、エージェントの意思決定をトレースし、AI特有のパターンを理解する専用ツールで複雑なワークフローをデバッグできます。

<div id="key-features">
  ## 主な機能
</div>

<div id="structured-logging">
  ### 構造化ログ
</div>

コンテキスト付きのログでアプリケーションをデバッグ:

- **コンテキスト伝播**: トレースとの自動的な相関付け
- **レベル設定**: 開発・本番で重大度に基づくフィルタリング

<div id="ai-tracing">
  ### AI トレーシング
</div>

AI 処理向けに特化したトレーシングで、以下を捕捉します：

- **LLM のやり取り**：トークン使用量、レイテンシ、プロンプト、生成結果
- **エージェント実行**：意思決定の経路、ツール呼び出し、メモリ操作
- **ワークフローの各ステップ**：分岐ロジック、並列実行、各ステップの出力
- **自動インストルメンテーション**：デコレータによるゼロコンフィグのトレーシング

<div id="otel-tracing">
  ### OTEL トレーシング
</div>

OpenTelemetry を用いた従来型の分散トレーシング:

- **標準 OTLP プロトコル**: 既存のオブザーバビリティ基盤と互換
- **HTTP とデータベースのインストルメンテーション**: 一般的な操作に対するスパンを自動生成
- **プロバイダー連携**: Datadog、New Relic、Jaeger、その他の OTLP コレクターに対応
- **分散コンテキスト**: W3C Trace Context の伝播に対応

<div id="quick-start">
  ## クイックスタート
</div>

Mastra インスタンスでオブザーバビリティを設定します:

```typescript title="src/mastra/index.ts"
import { Mastra } from "@mastra/core";
import { PinoLogger } from "@mastra/core";
import { LibSqlStorage } from "@mastra/libsql";

export const mastra = new Mastra({
  // ... その他の設定
  logger: new PinoLogger(),
  observability: {
    default: { enabled: true }, // AIトレーシングを有効にする
  },
  storage: new LibSQLStore({
    url: "file:./mastra.db", // トレーシングにはストレージが必要です
  }),
  telemetry: {
    enabled: true, // OTELトレーシングを有効にする
  },
});
```

この基本セットアップにより、Playground と Mastra Cloud の両方でトレースとログを確認できます。

また、Langfuse や Braintrust、Datadog、New Relic、SigNoz などの OpenTelemetry 互換プラットフォームを含む各種外部トレーシングプロバイダーにも対応しています。詳しくは [AI Tracing](/docs/observability/ai-tracing/overview) のドキュメントをご覧ください。


<div id="whats-next">
  ## 次のステップ
</div>

- **[AI トレーシングを設定](/docs/observability/ai-tracing/overview)**: アプリケーションのトレーシングを構成
- **[ロギングを設定](/docs/observability/logging)**: 構造化ログを追加
- **[サンプルを見る](/examples/observability/basic-ai-tracing)**: オブザーバビリティを実際に確認
- **[API リファレンス](/reference/observability/ai-tracing/)**: 詳細な構成オプション