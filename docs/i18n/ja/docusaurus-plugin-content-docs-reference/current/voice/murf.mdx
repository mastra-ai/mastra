---
title: "リファレンス: Murf | Voice | Mastra ドキュメント"
description: "Murf の音声実装に関するドキュメント。テキスト読み上げ（TTS）機能を提供します。"
---

# Murf

Mastra の Murf 音声実装は、Murf の AI 音声サービスを利用したテキスト読み上げ（TTS）機能を提供します。複数言語の多様な音声に対応しています。

## 使用例

```typescript
import { MurfVoice } from "@mastra/voice-murf";

// 既定の設定で初期化（MURF_API_KEY 環境変数を使用）
const voice = new MurfVoice();

// カスタム設定で初期化
const voice = new MurfVoice({
  speechModel: {
    name: "GEN2",
    apiKey: "API キーを入力",
    properties: {
      format: "MP3",
      rate: 1.0,
      pitch: 1.0,
      sampleRate: 48000,
      channelType: "STEREO",
    },
  },
  speaker: "en-US-cooper",
});

// 既定設定でテキスト読み上げ
const audioStream = await voice.speak("こんにちは、世界！");

// カスタムプロパティでテキスト読み上げ
const audioStream = await voice.speak("こんにちは、世界！", {
  speaker: "en-UK-hazel",
  properties: {
    format: "WAV",
    rate: 1.2,
    style: "カジュアル",
  },
});

// 利用可能な音声を取得
const voices = await voice.getSpeakers();
```


## コンストラクターのパラメーター

<PropertiesTable
  content={[
    {
      name: "speechModel",
      type: "MurfConfig",
      description: "テキスト読み上げ（TTS）機能の設定",
      isOptional: true,
      defaultValue: "{ name: 'GEN2' }",
    },
    {
      name: "speaker",
      type: "string",
      description: "テキスト読み上げに使用する既定のボイス ID",
      isOptional: true,
      defaultValue: "'en-UK-hazel'",
    },
  ]}
/>

### MurfConfig

<PropertiesTable
  content={[
    {
      name: "name",
      type: "'GEN1' | 'GEN2'",
      description: "使用するMurfモデルの世代",
      isOptional: false,
      defaultValue: "'GEN2'",
    },
    {
      name: "apiKey",
      type: "string",
      description:
        "MurfのAPIキー。未指定の場合は環境変数 MURF_API_KEY が使用されます",
      isOptional: true,
    },
    {
      name: "properties",
      type: "object",
      description: "すべての音声合成リクエストに適用される既定のプロパティ",
      isOptional: true,
    },
  ]}
/>

### 音声プロパティ

<PropertiesTable
  content={[
    {
      name: "style",
      type: "string",
      description: "音声の話し方スタイル",
      isOptional: true,
    },
    {
      name: "rate",
      type: "number",
      description: "発話速度の倍率",
      isOptional: true,
    },
    {
      name: "pitch",
      type: "number",
      description: "声のピッチ（音程）調整",
      isOptional: true,
    },
    {
      name: "sampleRate",
      type: "8000 | 24000 | 44100 | 48000",
      description: "オーディオのサンプリングレート（Hz）",
      isOptional: true,
    },
    {
      name: "format",
      type: "'MP3' | 'WAV' | 'FLAC' | 'ALAW' | 'ULAW'",
      description: "出力オーディオフォーマット",
      isOptional: true,
    },
    {
      name: "channelType",
      type: "'STEREO' | 'MONO'",
      description: "オーディオのチャンネル構成",
      isOptional: true,
    },
    {
      name: "pronunciationDictionary",
      type: "Record<string, string>",
      description: "カスタム発音辞書（マッピング）",
      isOptional: true,
    },
    {
      name: "encodeAsBase64",
      type: "boolean",
      description: "オーディオをbase64でエンコードするかどうか",
      isOptional: true,
    },
    {
      name: "variation",
      type: "number",
      description: "音声のバリエーションパラメータ",
      isOptional: true,
    },
    {
      name: "audioDuration",
      type: "number",
      description: "目標の音声長（秒）",
      isOptional: true,
    },
    {
      name: "multiNativeLocale",
      type: "string",
      description: "多言語対応用のロケール",
      isOptional: true,
    },
  ]}
/>

## メソッド

### speak()

Murf の API を使ってテキストを音声に変換します。

<PropertiesTable
  content={[
    {
      name: "input",
      type: "string | NodeJS.ReadableStream",
      description:
        "音声に変換するテキスト。ストリームが渡された場合は、先にテキストへ変換されます。",
      isOptional: false,
    },
    {
      name: "options",
      type: "object",
      description: "音声合成のオプション",
      isOptional: true,
    },
    {
      name: "options.speaker",
      type: "string",
      description: "このリクエストでデフォルトの話者を上書きします",
      isOptional: true,
    },
    {
      name: "options.properties",
      type: "object",
      description: "このリクエストでデフォルトの音声プロパティを上書きします",
      isOptional: true,
    },
  ]}
/>

戻り値: `Promise<NodeJS.ReadableStream>`

### getSpeakers()

利用可能な音声オプションの配列を返します。各要素には以下が含まれます:

<PropertiesTable
  content={[
    {
      name: "voiceId",
      type: "string",
      description: "音声のユニークな識別子",
      isOptional: false,
    },
    {
      name: "name",
      type: "string",
      description: "音声の表示名",
      isOptional: false,
    },
    {
      name: "language",
      type: "string",
      description: "音声の言語コード",
      isOptional: false,
    },
    {
      name: "gender",
      type: "string",
      description: "音声の性別",
      isOptional: false,
    },
  ]}
/>

### listen()

このメソッドはMurfではサポートされておらず、エラーをスローします。Murfは音声→テキスト（Speech-to-Text）の機能を提供していません。

## 重要な注意事項

1. Murf の API キーが必要です。`MURF_API_KEY` 環境変数で設定するか、コンストラクタに渡してください。
2. 既定のモデルバージョンとして GEN2 を使用します。
3. 音声プロパティはコンストラクタで設定でき、リクエスト単位で上書きできます。
4. フォーマット、サンプルレート、チャンネル種別などのプロパティにより、柔軟なオーディオのカスタマイズが可能です。
5. 音声認識（Speech-to-Text）機能には対応していません。