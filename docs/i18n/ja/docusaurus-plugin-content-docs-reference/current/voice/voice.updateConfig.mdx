---
title: "リファレンス: voice.updateConfig() | Voice | Mastra Docs"
description: "音声プロバイダーの構成を実行時に更新するために、各音声プロバイダーで利用できる updateConfig() メソッドのドキュメント。"
---

<div id="voiceupdateconfig">
  # voice.updateConfig()
</div>

`updateConfig()` メソッドは、実行時にボイスプロバイダーの設定を更新できます。新しいインスタンスを作成せずに、音声設定や API キー、その他のプロバイダー固有のオプションを変更するのに役立ちます。

<div id="usage-example">
  ## 使用例
</div>

```typescript
import { OpenAIRealtimeVoice } from "@mastra/voice-openai-realtime";

// リアルタイム音声プロバイダを初期化する
const voice = new OpenAIRealtimeVoice({
  realtimeConfig: {
    model: "gpt-4o-mini-realtime",
    apiKey: process.env.OPENAI_API_KEY,
  },
  speaker: "alloy",
});

// リアルタイムサービスに接続する
await voice.connect();

// 後で設定を更新する
voice.updateConfig({
  voice: "nova", // デフォルトの音声を変更
  turn_detection: {
    type: "server_vad",
    threshold: 0.5,
    silence_duration_ms: 1000,
  },
});

// 次回の speak() 呼び出しでは新しい設定が使用されます
await voice.speak("新しい声でこんにちは！");
```


<div id="parameters">
  ## パラメータ
</div>

<br />

<PropertiesTable
  content={[
    {
      name: "options",
      type: "Record<string, unknown>",
      description:
        "更新する設定オプション。具体的なプロパティは音声プロバイダーによって異なります。",
      isOptional: false,
    },
  ]}
/>

<div id="return-value">
  ## 戻り値
</div>

このメソッドは値を返しません。

<div id="configuration-options">
  ## 設定オプション
</div>

対応している設定オプションは音声プロバイダーによって異なります。

<div id="openai-realtime">
  ### OpenAI Realtime
</div>

<br />

<PropertiesTable
  content={[
    {
      name: "voice",
      type: "string",
      description:
        "音声合成に使用するボイスID（例：「alloy」「echo」「nova」）",
      isOptional: true,
    },
    {
      name: "turn_detection",
      type: "{ type: string, threshold?: number, silence_duration_ms?: number }",
      description:
        "ユーザーが話し終えたことを検出するための設定",
      isOptional: true,
    },
  ]}
/>

<div id="notes">
  ## 注意事項
</div>

- 既定の実装では、プロバイダーがこのメソッドをサポートしていない場合に警告を記録します
- 設定の更新は通常、進行中の処理ではなく、次以降の処理に適用されます
- コンストラクターで設定できるプロパティのすべてが、実行時に更新可能とは限りません
- 具体的な挙動は、音声プロバイダーの実装に依存します
- リアルタイムの音声プロバイダーでは、一部の設定変更によりサービスへの再接続が必要になる場合があります