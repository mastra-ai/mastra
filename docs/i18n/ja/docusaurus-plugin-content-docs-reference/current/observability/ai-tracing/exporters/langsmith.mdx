---
title: "リファレンス: LangSmithExporter | 可観測性 | Mastra ドキュメント"
description: AI トレーシング用の LangSmith エクスポーター
---

import PropertiesTable from "@site/src/components/PropertiesTable";


<div id="langsmithexporter">
  # LangSmithExporter
</div>

AI のトレースデータを可観測性のために LangSmith へ送信します。

<div id="constructor">
  ## コンストラクタ
</div>

```typescript
new LangSmithExporter(config: LangSmithExporterConfig)
```


<div id="langsmithexporterconfig">
  ## LangSmithExporterConfig
</div>

```typescript
interface LangSmithExporterConfig extends ClientConfig {
  logLevel?: "debug" | "info" | "warn" | "error";
  client?: Client;
}
```

<PropertiesTable
  props={[
{
  name: "apiKey",
  type: "string",
  description: "LangSmith の API キー",
  required: false,
},
{
  name: "apiUrl",
  type: "string",
  description: "LangSmith の API URL",
  required: false,
},
{
  name: "callerOptions",
  type: "object",
  description: "HTTP クライアントの構成オプション",
  required: false,
},
{
  name: "hideInputs",
  type: "boolean",
  description: "LangSmith の UI で入力データを非表示にする",
  required: false,
},
{
  name: "hideOutputs",
  type: "boolean",
  description: "LangSmith の UI で出力データを非表示にする",
  required: false,
},
{
  name: "logLevel",
  type: "'debug' | 'info' | 'warn' | 'error'",
  description: "ログレベル（既定: 'warn'）",
  required: false,
},
{
  name: "client",
  type: "Client",
  description: "あらかじめ構成された LangSmith クライアント インスタンス",
  required: false,
},
]}
/>


<div id="methods">
  ## メソッド
</div>

<div id="exportevent">
  ### exportEvent
</div>

```typescript
async exportEvent(event: AITracingEvent): Promise<void>
```

トレースイベントを LangSmith にエクスポートします。


<div id="shutdown">
  ### シャットダウン
</div>

```typescript
async shutdown(): Promise<void>
```

アクティブなスパンをすべて終了し、トレースマップをクリアします。


<div id="usage">
  ## 使い方
</div>

```typescript
import { LangSmithExporter } from "@mastra/langsmith";

const exporter = new LangSmithExporter({
  apiKey: process.env.LANGSMITH_API_KEY,
  apiUrl: "https://api.smith.langchain.com",
  logLevel: "info",
});
```


<div id="span-type-mapping">
  ## スパンタイプの対応関係
</div>

| AI スパンタイプ     | LangSmith の種類 |
| ------------------ | ---------------- |
| `MODEL_GENERATION` | `llm`            |
| `MODEL_CHUNK`      | `llm`            |
| `TOOL_CALL`        | `tool`           |
| `MCP_TOOL_CALL`    | `tool`           |
| その他             | `chain`          |