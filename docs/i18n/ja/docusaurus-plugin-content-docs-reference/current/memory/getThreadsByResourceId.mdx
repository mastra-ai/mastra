---
title: "リファレンス: Memory.getThreadsByResourceId() | Memory | Mastra ドキュメント"
description: "Mastra における `Memory.getThreadsByResourceId()` メソッドのリファレンス。特定のリソースに属するすべてのスレッドを取得します。"
---

<div id="memorygetthreadsbyresourceid">
  # Memory.getThreadsByResourceId()
</div>

`.getThreadsByResourceId()` 関数は、ストレージから特定のリソース ID に紐づくすべてのスレッドを取得します。スレッドは作成時刻または更新時刻で、昇順または降順に並べ替えられます。

<div id="usage-example">
  ## 使い方の例
</div>

```typescript
await memory?.getThreadsByResourceId({ resourceId: "user-123" });
```


<div id="parameters">
  ## パラメータ
</div>

<PropertiesTable
  content={[
    {
      name: "resourceId",
      type: "string",
      description: "スレッドを取得する対象リソースの ID。",
      isOptional: false,
    },
    {
      name: "orderBy",
      type: "ThreadOrderBy",
      description:
        "スレッドの並び替え基準。'createdAt' または 'updatedAt' を指定可能。既定: 'createdAt'",
      isOptional: true,
    },
    {
      name: "sortDirection",
      type: "ThreadSortDirection",
      description:
        "並び順の方向。'ASC' または 'DESC' を指定可能。既定: 'DESC'",
      isOptional: true,
    },
  ]}
/>

<div id="returns">
  ## 戻り値
</div>

<PropertiesTable
  content={[
    {
      name: "StorageThreadType[]",
      type: "Promise",
      description:
        "指定されたリソースIDに関連付けられたスレッドの配列で解決される Promise。",
    },
  ]}
/>

<div id="extended-usage-example">
  ## 応用的な使用例
</div>

```typescript title="src/test-memory.ts" showLineNumbers copy
import { mastra } from "./mastra";

const agent = mastra.getAgent("agent");
const memory = await agent.getMemory();

const thread = await memory?.getThreadsByResourceId({
  resourceId: "user-123",
  orderBy: "updatedAt",
  sortDirection: "ASC",
});

console.log(thread);
```


<div id="related">
  ### 関連
</div>

- [Memory クラスリファレンス](/reference/memory/memory-class)
- [getThreadsByResourceIdPaginated](/reference/memory/getThreadsByResourceIdPaginated) - ページネーション対応版
- [Memory のはじめに](/docs/memory/overview)（スレッド／リソースの概念を解説）
- [createThread](/reference/memory/createThread)
- [getThreadById](/reference/memory/getThreadById)