{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/abhiramaiyer/PlatformFirst/future/examples/travel-app/node_modules/.pnpm/%40aws-sdk%2Bcredential-provider-http%403.696.0/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/checkUrl.js"],"sourcesContent":["import { CredentialsProviderError } from \"@smithy/property-provider\";\nconst LOOPBACK_CIDR_IPv4 = \"127.0.0.0/8\";\nconst LOOPBACK_CIDR_IPv6 = \"::1/128\";\nconst ECS_CONTAINER_HOST = \"169.254.170.2\";\nconst EKS_CONTAINER_HOST_IPv4 = \"169.254.170.23\";\nconst EKS_CONTAINER_HOST_IPv6 = \"[fd00:ec2::23]\";\nexport const checkUrl = (url, logger) => {\n    if (url.protocol === \"https:\") {\n        return;\n    }\n    if (url.hostname === ECS_CONTAINER_HOST ||\n        url.hostname === EKS_CONTAINER_HOST_IPv4 ||\n        url.hostname === EKS_CONTAINER_HOST_IPv6) {\n        return;\n    }\n    if (url.hostname.includes(\"[\")) {\n        if (url.hostname === \"[::1]\" || url.hostname === \"[0000:0000:0000:0000:0000:0000:0000:0001]\") {\n            return;\n        }\n    }\n    else {\n        if (url.hostname === \"localhost\") {\n            return;\n        }\n        const ipComponents = url.hostname.split(\".\");\n        const inRange = (component) => {\n            const num = parseInt(component, 10);\n            return 0 <= num && num <= 255;\n        };\n        if (ipComponents[0] === \"127\" &&\n            inRange(ipComponents[1]) &&\n            inRange(ipComponents[2]) &&\n            inRange(ipComponents[3]) &&\n            ipComponents.length === 4) {\n            return;\n        }\n    }\n    throw new CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]`, { logger });\n};\n"],"names":[],"mappings":";;;AAAA;AAAA;;AACA,MAAM,qBAAqB;AAC3B,MAAM,qBAAqB;AAC3B,MAAM,qBAAqB;AAC3B,MAAM,0BAA0B;AAChC,MAAM,0BAA0B;AACzB,MAAM,WAAW,CAAC,KAAK;IAC1B,IAAI,IAAI,QAAQ,KAAK,UAAU;QAC3B;IACJ;IACA,IAAI,IAAI,QAAQ,KAAK,sBACjB,IAAI,QAAQ,KAAK,2BACjB,IAAI,QAAQ,KAAK,yBAAyB;QAC1C;IACJ;IACA,IAAI,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM;QAC5B,IAAI,IAAI,QAAQ,KAAK,WAAW,IAAI,QAAQ,KAAK,6CAA6C;YAC1F;QACJ;IACJ,OACK;QACD,IAAI,IAAI,QAAQ,KAAK,aAAa;YAC9B;QACJ;QACA,MAAM,eAAe,IAAI,QAAQ,CAAC,KAAK,CAAC;QACxC,MAAM,UAAU,CAAC;YACb,MAAM,MAAM,SAAS,WAAW;YAChC,OAAO,KAAK,OAAO,OAAO;QAC9B;QACA,IAAI,YAAY,CAAC,EAAE,KAAK,SACpB,QAAQ,YAAY,CAAC,EAAE,KACvB,QAAQ,YAAY,CAAC,EAAE,KACvB,QAAQ,YAAY,CAAC,EAAE,KACvB,aAAa,MAAM,KAAK,GAAG;YAC3B;QACJ;IACJ;IACA,MAAM,IAAI,wQAAA,CAAA,2BAAwB,CAAC,CAAC;;;uDAGe,CAAC,EAAE;QAAE;IAAO;AACnE","ignoreList":[0]}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///Users/abhiramaiyer/PlatformFirst/future/examples/travel-app/node_modules/.pnpm/%40aws-sdk%2Bcredential-provider-http%403.696.0/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/requestHelpers.js"],"sourcesContent":["import { CredentialsProviderError } from \"@smithy/property-provider\";\nimport { HttpRequest } from \"@smithy/protocol-http\";\nimport { parseRfc3339DateTime } from \"@smithy/smithy-client\";\nimport { sdkStreamMixin } from \"@smithy/util-stream\";\nexport function createGetRequest(url) {\n    return new HttpRequest({\n        protocol: url.protocol,\n        hostname: url.hostname,\n        port: Number(url.port),\n        path: url.pathname,\n        query: Array.from(url.searchParams.entries()).reduce((acc, [k, v]) => {\n            acc[k] = v;\n            return acc;\n        }, {}),\n        fragment: url.hash,\n    });\n}\nexport async function getCredentials(response, logger) {\n    const stream = sdkStreamMixin(response.body);\n    const str = await stream.transformToString();\n    if (response.statusCode === 200) {\n        const parsed = JSON.parse(str);\n        if (typeof parsed.AccessKeyId !== \"string\" ||\n            typeof parsed.SecretAccessKey !== \"string\" ||\n            typeof parsed.Token !== \"string\" ||\n            typeof parsed.Expiration !== \"string\") {\n            throw new CredentialsProviderError(\"HTTP credential provider response not of the required format, an object matching: \" +\n                \"{ AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }\", { logger });\n        }\n        return {\n            accessKeyId: parsed.AccessKeyId,\n            secretAccessKey: parsed.SecretAccessKey,\n            sessionToken: parsed.Token,\n            expiration: parseRfc3339DateTime(parsed.Expiration),\n        };\n    }\n    if (response.statusCode >= 400 && response.statusCode < 500) {\n        let parsedBody = {};\n        try {\n            parsedBody = JSON.parse(str);\n        }\n        catch (e) { }\n        throw Object.assign(new CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger }), {\n            Code: parsedBody.Code,\n            Message: parsedBody.Message,\n        });\n    }\n    throw new CredentialsProviderError(`Server responded with status: ${response.statusCode}`, { logger });\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AAFA;AAEA;AAHA;AAEA;;;;;AAEO,SAAS,iBAAiB,GAAG;IAChC,OAAO,IAAI,kPAAA,CAAA,cAAW,CAAC;QACnB,UAAU,IAAI,QAAQ;QACtB,UAAU,IAAI,QAAQ;QACtB,MAAM,OAAO,IAAI,IAAI;QACrB,MAAM,IAAI,QAAQ;QAClB,OAAO,MAAM,IAAI,CAAC,IAAI,YAAY,CAAC,OAAO,IAAI,MAAM,CAAC,CAAC,KAAK,CAAC,GAAG,EAAE;YAC7D,GAAG,CAAC,EAAE,GAAG;YACT,OAAO;QACX,GAAG,CAAC;QACJ,UAAU,IAAI,IAAI;IACtB;AACJ;AACO,eAAe,eAAe,QAAQ,EAAE,MAAM;IACjD,MAAM,SAAS,CAAA,GAAA,yPAAA,CAAA,iBAAc,AAAD,EAAE,SAAS,IAAI;IAC3C,MAAM,MAAM,MAAM,OAAO,iBAAiB;IAC1C,IAAI,SAAS,UAAU,KAAK,KAAK;QAC7B,MAAM,SAAS,KAAK,KAAK,CAAC;QAC1B,IAAI,OAAO,OAAO,WAAW,KAAK,YAC9B,OAAO,OAAO,eAAe,KAAK,YAClC,OAAO,OAAO,KAAK,KAAK,YACxB,OAAO,OAAO,UAAU,KAAK,UAAU;YACvC,MAAM,IAAI,wQAAA,CAAA,2BAAwB,CAAC,uFAC/B,gGAAgG;gBAAE;YAAO;QACjH;QACA,OAAO;YACH,aAAa,OAAO,WAAW;YAC/B,iBAAiB,OAAO,eAAe;YACvC,cAAc,OAAO,KAAK;YAC1B,YAAY,CAAA,GAAA,oPAAA,CAAA,uBAAoB,AAAD,EAAE,OAAO,UAAU;QACtD;IACJ;IACA,IAAI,SAAS,UAAU,IAAI,OAAO,SAAS,UAAU,GAAG,KAAK;QACzD,IAAI,aAAa,CAAC;QAClB,IAAI;YACA,aAAa,KAAK,KAAK,CAAC;QAC5B,EACA,OAAO,GAAG,CAAE;QACZ,MAAM,OAAO,MAAM,CAAC,IAAI,wQAAA,CAAA,2BAAwB,CAAC,CAAC,8BAA8B,EAAE,SAAS,UAAU,EAAE,EAAE;YAAE;QAAO,IAAI;YAClH,MAAM,WAAW,IAAI;YACrB,SAAS,WAAW,OAAO;QAC/B;IACJ;IACA,MAAM,IAAI,wQAAA,CAAA,2BAAwB,CAAC,CAAC,8BAA8B,EAAE,SAAS,UAAU,EAAE,EAAE;QAAE;IAAO;AACxG","ignoreList":[0]}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/abhiramaiyer/PlatformFirst/future/examples/travel-app/node_modules/.pnpm/%40aws-sdk%2Bcredential-provider-http%403.696.0/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/retry-wrapper.js"],"sourcesContent":["export const retryWrapper = (toRetry, maxRetries, delayMs) => {\n    return async () => {\n        for (let i = 0; i < maxRetries; ++i) {\n            try {\n                return await toRetry();\n            }\n            catch (e) {\n                await new Promise((resolve) => setTimeout(resolve, delayMs));\n            }\n        }\n        return await toRetry();\n    };\n};\n"],"names":[],"mappings":";;;AAAO,MAAM,eAAe,CAAC,SAAS,YAAY;IAC9C,OAAO;QACH,IAAK,IAAI,IAAI,GAAG,IAAI,YAAY,EAAE,EAAG;YACjC,IAAI;gBACA,OAAO,MAAM;YACjB,EACA,OAAO,GAAG;gBACN,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;YACvD;QACJ;QACA,OAAO,MAAM;IACjB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 152, "column": 0}, "map": {"version":3,"sources":["file:///Users/abhiramaiyer/PlatformFirst/future/examples/travel-app/node_modules/.pnpm/%40aws-sdk%2Bcredential-provider-http%403.696.0/node_modules/%40aws-sdk/credential-provider-http/dist-es/fromHttp/fromHttp.js"],"sourcesContent":["import { setCredentialFeature } from \"@aws-sdk/core/client\";\nimport { NodeHttpHandler } from \"@smithy/node-http-handler\";\nimport { CredentialsProviderError } from \"@smithy/property-provider\";\nimport fs from \"fs/promises\";\nimport { checkUrl } from \"./checkUrl\";\nimport { createGetRequest, getCredentials } from \"./requestHelpers\";\nimport { retryWrapper } from \"./retry-wrapper\";\nconst AWS_CONTAINER_CREDENTIALS_RELATIVE_URI = \"AWS_CONTAINER_CREDENTIALS_RELATIVE_URI\";\nconst DEFAULT_LINK_LOCAL_HOST = \"http://169.254.170.2\";\nconst AWS_CONTAINER_CREDENTIALS_FULL_URI = \"AWS_CONTAINER_CREDENTIALS_FULL_URI\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE = \"AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE\";\nconst AWS_CONTAINER_AUTHORIZATION_TOKEN = \"AWS_CONTAINER_AUTHORIZATION_TOKEN\";\nexport const fromHttp = (options = {}) => {\n    options.logger?.debug(\"@aws-sdk/credential-provider-http - fromHttp\");\n    let host;\n    const relative = options.awsContainerCredentialsRelativeUri ?? process.env[AWS_CONTAINER_CREDENTIALS_RELATIVE_URI];\n    const full = options.awsContainerCredentialsFullUri ?? process.env[AWS_CONTAINER_CREDENTIALS_FULL_URI];\n    const token = options.awsContainerAuthorizationToken ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN];\n    const tokenFile = options.awsContainerAuthorizationTokenFile ?? process.env[AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE];\n    const warn = options.logger?.constructor?.name === \"NoOpLogger\" || !options.logger ? console.warn : options.logger.warn;\n    if (relative && full) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri.\");\n        warn(\"awsContainerCredentialsFullUri will take precedence.\");\n    }\n    if (token && tokenFile) {\n        warn(\"@aws-sdk/credential-provider-http: \" +\n            \"you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile.\");\n        warn(\"awsContainerAuthorizationToken will take precedence.\");\n    }\n    if (full) {\n        host = full;\n    }\n    else if (relative) {\n        host = `${DEFAULT_LINK_LOCAL_HOST}${relative}`;\n    }\n    else {\n        throw new CredentialsProviderError(`No HTTP credential provider host provided.\nSet AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`, { logger: options.logger });\n    }\n    const url = new URL(host);\n    checkUrl(url, options.logger);\n    const requestHandler = new NodeHttpHandler({\n        requestTimeout: options.timeout ?? 1000,\n        connectionTimeout: options.timeout ?? 1000,\n    });\n    return retryWrapper(async () => {\n        const request = createGetRequest(url);\n        if (token) {\n            request.headers.Authorization = token;\n        }\n        else if (tokenFile) {\n            request.headers.Authorization = (await fs.readFile(tokenFile)).toString();\n        }\n        try {\n            const result = await requestHandler.handle(request);\n            return getCredentials(result.response).then((creds) => setCredentialFeature(creds, \"CREDENTIALS_HTTP\", \"z\"));\n        }\n        catch (e) {\n            throw new CredentialsProviderError(String(e), { logger: options.logger });\n        }\n    }, options.maxRetries ?? 3, options.timeout ?? 1000);\n};\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AADA;;;;;;;;AAOA,MAAM,yCAAyC;AAC/C,MAAM,0BAA0B;AAChC,MAAM,qCAAqC;AAC3C,MAAM,yCAAyC;AAC/C,MAAM,oCAAoC;AACnC,MAAM,WAAW,CAAC,UAAU,CAAC,CAAC;IACjC,QAAQ,MAAM,EAAE,MAAM;IACtB,IAAI;IACJ,MAAM,WAAW,QAAQ,kCAAkC,IAAI,QAAQ,GAAG,CAAC,uCAAuC;IAClH,MAAM,OAAO,QAAQ,8BAA8B,IAAI,QAAQ,GAAG,CAAC,mCAAmC;IACtG,MAAM,QAAQ,QAAQ,8BAA8B,IAAI,QAAQ,GAAG,CAAC,kCAAkC;IACtG,MAAM,YAAY,QAAQ,kCAAkC,IAAI,QAAQ,GAAG,CAAC,uCAAuC;IACnH,MAAM,OAAO,QAAQ,MAAM,EAAE,aAAa,SAAS,gBAAgB,CAAC,QAAQ,MAAM,GAAG,QAAQ,IAAI,GAAG,QAAQ,MAAM,CAAC,IAAI;IACvH,IAAI,YAAY,MAAM;QAClB,KAAK,wCACD;QACJ,KAAK;IACT;IACA,IAAI,SAAS,WAAW;QACpB,KAAK,wCACD;QACJ,KAAK;IACT;IACA,IAAI,MAAM;QACN,OAAO;IACX,OACK,IAAI,UAAU;QACf,OAAO,GAAG,0BAA0B,UAAU;IAClD,OACK;QACD,MAAM,IAAI,wQAAA,CAAA,2BAAwB,CAAC,CAAC;iFACqC,CAAC,EAAE;YAAE,QAAQ,QAAQ,MAAM;QAAC;IACzG;IACA,MAAM,MAAM,IAAI,IAAI;IACpB,CAAA,GAAA,iSAAA,CAAA,WAAQ,AAAD,EAAE,KAAK,QAAQ,MAAM;IAC5B,MAAM,iBAAiB,IAAI,4QAAA,CAAA,kBAAe,CAAC;QACvC,gBAAgB,QAAQ,OAAO,IAAI;QACnC,mBAAmB,QAAQ,OAAO,IAAI;IAC1C;IACA,OAAO,CAAA,GAAA,ySAAA,CAAA,eAAY,AAAD,EAAE;QAChB,MAAM,UAAU,CAAA,GAAA,uSAAA,CAAA,mBAAgB,AAAD,EAAE;QACjC,IAAI,OAAO;YACP,QAAQ,OAAO,CAAC,aAAa,GAAG;QACpC,OACK,IAAI,WAAW;YAChB,QAAQ,OAAO,CAAC,aAAa,GAAG,CAAC,MAAM,uGAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,UAAU,EAAE,QAAQ;QAC3E;QACA,IAAI;YACA,MAAM,SAAS,MAAM,eAAe,MAAM,CAAC;YAC3C,OAAO,CAAA,GAAA,uSAAA,CAAA,iBAAc,AAAD,EAAE,OAAO,QAAQ,EAAE,IAAI,CAAC,CAAC,QAAU,CAAA,GAAA,qQAAA,CAAA,uBAAoB,AAAD,EAAE,OAAO,oBAAoB;QAC3G,EACA,OAAO,GAAG;YACN,MAAM,IAAI,wQAAA,CAAA,2BAAwB,CAAC,OAAO,IAAI;gBAAE,QAAQ,QAAQ,MAAM;YAAC;QAC3E;IACJ,GAAG,QAAQ,UAAU,IAAI,GAAG,QAAQ,OAAO,IAAI;AACnD","ignoreList":[0]}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}