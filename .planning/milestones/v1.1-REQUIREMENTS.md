# Requirements Archive: v1.1 Browser Live View

**Archived:** 2026-01-28
**Status:** SHIPPED

This is the archived requirements specification for v1.1.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1.1 Requirements

Requirements for Browser Live View milestone. Each maps to roadmap phases.

### Screencast API

- [x] **CAST-01**: BrowserToolset exposes `startScreencast()` method that begins CDP frame capture
- [x] **CAST-02**: BrowserToolset exposes `stopScreencast()` method that ends frame capture
- [x] **CAST-03**: Screencast sends CDP `screencastFrameAck` for each frame to prevent memory exhaustion
- [x] **CAST-04**: BrowserToolset exposes `injectMouseEvent()` passthrough for future input injection
- [x] **CAST-05**: BrowserToolset exposes `injectKeyboardEvent()` passthrough for future input injection

### Transport Layer

- [x] **XPORT-01**: WebSocket endpoint exists at `/browser/:agentId/stream` for frame delivery
- [x] **XPORT-02**: WebSocket handler relays CDP frames to connected clients
- [x] **XPORT-03**: WebSocket connections are properly cleaned up on disconnect
- [x] **XPORT-04**: Screencast only runs when at least one viewer is connected

### Studio UI

- [x] **UI-01**: BrowserViewPanel component renders screencast frames inline with agent chat
- [x] **UI-02**: Component uses `useRef` pattern to avoid virtual DOM thrashing
- [x] **UI-03**: Connection status indicator shows connected/connecting/disconnected states
- [x] **UI-04**: Empty state shown when no browser is active
- [x] **UI-05**: Loading state shown during browser initialization

## Future Requirements

Deferred to v1.5 or later. Tracked but not in current roadmap.

### Enhanced Display

- **DISP-01**: Current URL displayed in browser view header
- **DISP-02**: Page title displayed in browser view header
- **DISP-03**: Resize/zoom controls for browser view
- **DISP-04**: Action overlay showing what element was clicked/typed

### User Interaction

- **INTERACT-01**: User can click elements in browser view to forward clicks
- **INTERACT-02**: User can type in browser view to forward keyboard input
- **INTERACT-03**: User can scroll browser view to control viewport

### Recording

- **REC-01**: Session recording captures all frames for playback
- **REC-02**: Timeline scrubbing for recorded sessions
- **REC-03**: Session export to video file

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| CAST-01 | Phase 7 | Complete |
| CAST-02 | Phase 7 | Complete |
| CAST-03 | Phase 7 | Complete |
| CAST-04 | Phase 7 | Complete |
| CAST-05 | Phase 7 | Complete |
| XPORT-01 | Phase 8 | Complete |
| XPORT-02 | Phase 8 | Complete |
| XPORT-03 | Phase 8 | Complete |
| XPORT-04 | Phase 8 | Complete |
| UI-01 | Phase 9 | Complete |
| UI-02 | Phase 9 | Complete |
| UI-03 | Phase 9 | Complete |
| UI-04 | Phase 9 | Complete |
| UI-05 | Phase 9 | Complete |

**Coverage:**
- v1.1 requirements: 14 total
- Shipped: 14 of 14

---

## Milestone Summary

**Shipped:** 14 of 14 v1.1 requirements
**Adjusted:** None — all requirements shipped as originally defined
**Dropped:** None

Note: DISP-01 (URL in header) was partially delivered — browser-view-header.tsx shows current URL. Not formally tracked as a v1.1 requirement but shipped as part of the implementation.

---
*Archived: 2026-01-28 as part of v1.1 milestone completion*
